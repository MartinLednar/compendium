{
  "version": 3,
  "sources": ["../../../../../node_modules/ms/index.js", "../../../../../node_modules/debug/src/debug.js", "../../../../../node_modules/debug/src/browser.js", "../../../../../node_modules/aws-appsync-subscription-link/lib/utils/logger.js", "../../../../../node_modules/aws-appsync-subscription-link/lib/utils/index.js", "../../../../../node_modules/aws-appsync-subscription-link/lib/vendor/paho-mqtt.js", "../../../../../node_modules/aws-appsync-subscription-link/lib/subscription-handshake-link.js", "../../../../../node_modules/@apollo/src/link/context/index.ts", "../../../../../node_modules/aws-appsync-subscription-link/lib/non-terminating-link.js", "../../../../../node_modules/uuid/dist/esm-browser/rng.js", "../../../../../node_modules/uuid/dist/esm-browser/regex.js", "../../../../../node_modules/uuid/dist/esm-browser/validate.js", "../../../../../node_modules/uuid/dist/esm-browser/stringify.js", "../../../../../node_modules/uuid/dist/esm-browser/v1.js", "../../../../../node_modules/uuid/dist/esm-browser/parse.js", "../../../../../node_modules/uuid/dist/esm-browser/v35.js", "../../../../../node_modules/uuid/dist/esm-browser/md5.js", "../../../../../node_modules/uuid/dist/esm-browser/v3.js", "../../../../../node_modules/uuid/dist/esm-browser/v4.js", "../../../../../node_modules/uuid/dist/esm-browser/sha1.js", "../../../../../node_modules/uuid/dist/esm-browser/v5.js", "../../../../../node_modules/uuid/dist/esm-browser/nil.js", "../../../../../node_modules/uuid/dist/esm-browser/version.js", "../../../../../node_modules/uuid/dist/esm-browser/index.js", "../../../../../node_modules/aws-appsync-subscription-link/lib/types/index.js", "../../../../../node_modules/aws-appsync-subscription-link/lib/utils/retry.js", "../../../../../node_modules/aws-appsync-subscription-link/lib/realtime-subscription-handshake-link.js", "../../../../../node_modules/aws-appsync-subscription-link/lib/index.js"],
  "sourcesContent": ["/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n", "/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n", "\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar debug_1 = require(\"debug\");\nvar debugLogger = debug_1.default('aws-appsync');\nvar extend = function (category) {\n    if (category === void 0) { category = ''; }\n    var newCategory = category ? __spreadArrays(this.namespace.split(':'), [category]).join(':') : this.namespace;\n    var result = debug_1.default(newCategory);\n    result.extend = extend.bind(result);\n    return result;\n};\ndebugLogger.extend = extend.bind(debugLogger);\nexports.default = debugLogger;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*!\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar logger_1 = require(\"./logger\");\nexports.rootLogger = logger_1.default;\n", "/*******************************************************************************\n * Copyright (c) 2013 IBM Corp.\n *\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n *\n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v10.html\n * and the Eclipse Distribution License is available at\n *   http://www.eclipse.org/org/documents/edl-v10.php.\n *\n * Contributors:\n *    Andrew Banks - initial API and implementation and initial documentation\n *******************************************************************************/\n\n\n// Only expose a single object name in the global namespace.\n// Everything must go through this module. Global Paho module\n// only has a single public function, client, which returns\n// a Paho client object given connection details.\n\n/**\n * Send and receive messages using web browsers.\n * <p>\n * This programming interface lets a JavaScript client application use the MQTT V3.1 or\n * V3.1.1 protocol to connect to an MQTT-supporting messaging server.\n *\n * The function supported includes:\n * <ol>\n * <li>Connecting to and disconnecting from a server. The server is identified by its host name and port number.\n * <li>Specifying options that relate to the communications link with the server,\n * for example the frequency of keep-alive heartbeats, and whether SSL/TLS is required.\n * <li>Subscribing to and receiving messages from MQTT Topics.\n * <li>Publishing messages to MQTT Topics.\n * </ol>\n * <p>\n * The API consists of two main objects:\n * <dl>\n * <dt><b>{@link Paho.Client}</b></dt>\n * <dd>This contains methods that provide the functionality of the API,\n * including provision of callbacks that notify the application when a message\n * arrives from or is delivered to the messaging server,\n * or when the status of its connection to the messaging server changes.</dd>\n * <dt><b>{@link Paho.Message}</b></dt>\n * <dd>This encapsulates the payload of the message along with various attributes\n * associated with its delivery, in particular the destination to which it has\n * been (or is about to be) sent.</dd>\n * </dl>\n * <p>\n * The programming interface validates parameters passed to it, and will throw\n * an Error containing an error message intended for developer use, if it detects\n * an error with any parameter.\n * <p>\n * Example:\n *\n * <code><pre>\nclient = new Paho.Client(location.hostname, Number(location.port), \"clientId\");\nclient.onConnectionLost = onConnectionLost;\nclient.onMessageArrived = onMessageArrived;\nclient.connect({onSuccess:onConnect});\n\nfunction onConnect() {\n  // Once a connection has been made, make a subscription and send a message.\n  console.log(\"onConnect\");\n  client.subscribe(\"/World\");\n  message = new Paho.Message(\"Hello\");\n  message.destinationName = \"/World\";\n  client.send(message);\n};\nfunction onConnectionLost(responseObject) {\n  if (responseObject.errorCode !== 0)\n\tconsole.log(\"onConnectionLost:\"+responseObject.errorMessage);\n};\nfunction onMessageArrived(message) {\n  console.log(\"onMessageArrived:\"+message.payloadString);\n  client.disconnect();\n};\n * </pre></code>\n * @namespace Paho\n */\n\n/* jshint shadow:true */\n(function ExportLibrary(root, factory) {\n\tif(typeof exports === \"object\" && typeof module === \"object\"){\n\t\tmodule.exports = factory();\n\t} else if (typeof define === \"function\" && define.amd){\n\t\tdefine(factory);\n\t} else if (typeof exports === \"object\"){\n\t\texports = factory();\n\t} else {\n\t\t//if (typeof root.Paho === \"undefined\"){\n\t\t//\troot.Paho = {};\n\t\t//}\n\t\troot.Paho = factory();\n\t}\n})(this, function LibraryFactory(){\n\n\n\tvar PahoMQTT = (function (global) {\n\n\t// Private variables below, these are only visible inside the function closure\n\t// which is used to define the module.\n\tvar version = \"@VERSION@-@BUILDLEVEL@\";\n\n\t/**\n\t * @private\n\t */\n\tvar localStorage = global.localStorage || (function () {\n\t\tvar data = {};\n\n\t\treturn {\n\t\t\tsetItem: function (key, item) { data[key] = item; },\n\t\t\tgetItem: function (key) { return data[key]; },\n\t\t\tremoveItem: function (key) { delete data[key]; },\n\t\t};\n\t})();\n\n\t\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\t\tvar MESSAGE_TYPE = {\n\t\t\tCONNECT: 1,\n\t\t\tCONNACK: 2,\n\t\t\tPUBLISH: 3,\n\t\t\tPUBACK: 4,\n\t\t\tPUBREC: 5,\n\t\t\tPUBREL: 6,\n\t\t\tPUBCOMP: 7,\n\t\t\tSUBSCRIBE: 8,\n\t\t\tSUBACK: 9,\n\t\t\tUNSUBSCRIBE: 10,\n\t\t\tUNSUBACK: 11,\n\t\t\tPINGREQ: 12,\n\t\t\tPINGRESP: 13,\n\t\t\tDISCONNECT: 14\n\t\t};\n\n\t\t// Collection of utility methods used to simplify module code\n\t\t// and promote the DRY pattern.\n\n\t\t/**\n\t * Validate an object's parameter names to ensure they\n\t * match a list of expected variables name for this option\n\t * type. Used to ensure option object passed into the API don't\n\t * contain erroneous parameters.\n\t * @param {Object} obj - User options object\n\t * @param {Object} keys - valid keys and types that may exist in obj.\n\t * @throws {Error} Invalid option parameter found.\n\t * @private\n\t */\n\t\tvar validate = function(obj, keys) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\tif (keys.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (typeof obj[key] !== keys[key])\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof obj[key], key]));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar errorStr = \"Unknown property, \" + key + \". Valid properties are:\";\n\t\t\t\t\t\tfor (var validKey in keys)\n\t\t\t\t\t\t\tif (keys.hasOwnProperty(validKey))\n\t\t\t\t\t\t\t\terrorStr = errorStr+\" \"+validKey;\n\t\t\t\t\t\tthrow new Error(errorStr);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Return a new function which runs the user function bound\n\t * to a fixed scope.\n\t * @param {function} User function\n\t * @param {object} Function scope\n\t * @return {function} User function bound to another scope\n\t * @private\n\t */\n\t\tvar scope = function (f, scope) {\n\t\t\treturn function () {\n\t\t\t\treturn f.apply(scope, arguments);\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\t\tvar ERROR = {\n\t\t\tOK: {code:0, text:\"AMQJSC0000I OK.\"},\n\t\t\tCONNECT_TIMEOUT: {code:1, text:\"AMQJSC0001E Connect timed out.\"},\n\t\t\tSUBSCRIBE_TIMEOUT: {code:2, text:\"AMQJS0002E Subscribe timed out.\"},\n\t\t\tUNSUBSCRIBE_TIMEOUT: {code:3, text:\"AMQJS0003E Unsubscribe timed out.\"},\n\t\t\tPING_TIMEOUT: {code:4, text:\"AMQJS0004E Ping timed out.\"},\n\t\t\tINTERNAL_ERROR: {code:5, text:\"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}\"},\n\t\t\tCONNACK_RETURNCODE: {code:6, text:\"AMQJS0006E Bad Connack return code:{0} {1}.\"},\n\t\t\tSOCKET_ERROR: {code:7, text:\"AMQJS0007E Socket error:{0}.\"},\n\t\t\tSOCKET_CLOSE: {code:8, text:\"AMQJS0008I Socket closed.\"},\n\t\t\tMALFORMED_UTF: {code:9, text:\"AMQJS0009E Malformed UTF data:{0} {1} {2}.\"},\n\t\t\tUNSUPPORTED: {code:10, text:\"AMQJS0010E {0} is not supported by this browser.\"},\n\t\t\tINVALID_STATE: {code:11, text:\"AMQJS0011E Invalid state {0}.\"},\n\t\t\tINVALID_TYPE: {code:12, text:\"AMQJS0012E Invalid type {0} for {1}.\"},\n\t\t\tINVALID_ARGUMENT: {code:13, text:\"AMQJS0013E Invalid argument {0} for {1}.\"},\n\t\t\tUNSUPPORTED_OPERATION: {code:14, text:\"AMQJS0014E Unsupported operation.\"},\n\t\t\tINVALID_STORED_DATA: {code:15, text:\"AMQJS0015E Invalid data in local storage key={0} value={1}.\"},\n\t\t\tINVALID_MQTT_MESSAGE_TYPE: {code:16, text:\"AMQJS0016E Invalid MQTT message type {0}.\"},\n\t\t\tMALFORMED_UNICODE: {code:17, text:\"AMQJS0017E Malformed Unicode string:{0} {1}.\"},\n\t\t\tBUFFER_FULL: {code:18, text:\"AMQJS0018E Message buffer is full, maximum buffer size: {0}.\"},\n\t\t};\n\n\t\t/** CONNACK RC Meaning. */\n\t\tvar CONNACK_RC = {\n\t\t\t0:\"Connection Accepted\",\n\t\t\t1:\"Connection Refused: unacceptable protocol version\",\n\t\t\t2:\"Connection Refused: identifier rejected\",\n\t\t\t3:\"Connection Refused: server unavailable\",\n\t\t\t4:\"Connection Refused: bad user name or password\",\n\t\t\t5:\"Connection Refused: not authorized\"\n\t\t};\n\n\t/**\n\t * Format an error message text.\n\t * @private\n\t * @param {error} ERROR value above.\n\t * @param {substitutions} [array] substituted into the text.\n\t * @return the text with the substitutions made.\n\t */\n\t\tvar format = function(error, substitutions) {\n\t\t\tvar text = error.text;\n\t\t\tif (substitutions) {\n\t\t\t\tvar field,start;\n\t\t\t\tfor (var i=0; i<substitutions.length; i++) {\n\t\t\t\t\tfield = \"{\"+i+\"}\";\n\t\t\t\t\tstart = text.indexOf(field);\n\t\t\t\t\tif(start > 0) {\n\t\t\t\t\t\tvar part1 = text.substring(0,start);\n\t\t\t\t\t\tvar part2 = text.substring(start+field.length);\n\t\t\t\t\t\ttext = part1+substitutions[i]+part2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn text;\n\t\t};\n\n\t\t//MQTT protocol and version          6    M    Q    I    s    d    p    3\n\t\tvar MqttProtoIdentifierv3 = [0x00,0x06,0x4d,0x51,0x49,0x73,0x64,0x70,0x03];\n\t\t//MQTT proto/version for 311         4    M    Q    T    T    4\n\t\tvar MqttProtoIdentifierv4 = [0x00,0x04,0x4d,0x51,0x54,0x54,0x04];\n\n\t\t/**\n\t * Construct an MQTT wire protocol message.\n\t * @param type MQTT packet type.\n\t * @param options optional wire message attributes.\n\t *\n\t * Optional properties\n\t *\n\t * messageIdentifier: message ID in the range [0..65535]\n\t * payloadMessage:\tApplication Message - PUBLISH only\n\t * connectStrings:\tarray of 0 or more Strings to be put into the CONNECT payload\n\t * topics:\t\t\tarray of strings (SUBSCRIBE, UNSUBSCRIBE)\n\t * requestQoS:\t\tarray of QoS values [0..2]\n\t *\n\t * \"Flag\" properties\n\t * cleanSession:\ttrue if present / false if absent (CONNECT)\n\t * willMessage:  \ttrue if present / false if absent (CONNECT)\n\t * isRetained:\t\ttrue if present / false if absent (CONNECT)\n\t * userName:\t\ttrue if present / false if absent (CONNECT)\n\t * password:\t\ttrue if present / false if absent (CONNECT)\n\t * keepAliveInterval:\tinteger [0..65535]  (CONNECT)\n\t *\n\t * @private\n\t * @ignore\n\t */\n\t\tvar WireMessage = function (type, options) {\n\t\t\tthis.type = type;\n\t\t\tfor (var name in options) {\n\t\t\t\tif (options.hasOwnProperty(name)) {\n\t\t\t\t\tthis[name] = options[name];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tWireMessage.prototype.encode = function() {\n\t\t// Compute the first byte of the fixed header\n\t\t\tvar first = ((this.type & 0x0f) << 4);\n\n\t\t\t/*\n\t\t * Now calculate the length of the variable header + payload by adding up the lengths\n\t\t * of all the component parts\n\t\t */\n\n\t\t\tvar remLength = 0;\n\t\t\tvar topicStrLength = [];\n\t\t\tvar destinationNameLength = 0;\n\t\t\tvar willMessagePayloadBytes;\n\n\t\t\t// if the message contains a messageIdentifier then we need two bytes for that\n\t\t\tif (this.messageIdentifier !== undefined)\n\t\t\t\tremLength += 2;\n\n\t\t\tswitch(this.type) {\n\t\t\t// If this a Connect then we need to include 12 bytes for its header\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tswitch(this.mqttVersion) {\n\t\t\t\tcase 3:\n\t\t\t\t\tremLength += MqttProtoIdentifierv3.length + 3;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tremLength += MqttProtoIdentifierv4.length + 3;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tremLength += UTF8Length(this.clientId) + 2;\n\t\t\t\tif (this.willMessage !== undefined) {\n\t\t\t\t\tremLength += UTF8Length(this.willMessage.destinationName) + 2;\n\t\t\t\t\t// Will message is always a string, sent as UTF-8 characters with a preceding length.\n\t\t\t\t\twillMessagePayloadBytes = this.willMessage.payloadBytes;\n\t\t\t\t\tif (!(willMessagePayloadBytes instanceof Uint8Array))\n\t\t\t\t\t\twillMessagePayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\t\tremLength += willMessagePayloadBytes.byteLength +2;\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tremLength += UTF8Length(this.userName) + 2;\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tremLength += UTF8Length(this.password) + 2;\n\t\t\t\tbreak;\n\n\t\t\t// Subscribe, Unsubscribe can both contain topic strings\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tremLength += this.requestedQos.length; // 1 byte for each topic's Qos\n\t\t\t\t// QoS on Subscribe only\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tif (this.payloadMessage.duplicate) first |= 0x08;\n\t\t\t\tfirst  = first |= (this.payloadMessage.qos << 1);\n\t\t\t\tif (this.payloadMessage.retained) first |= 0x01;\n\t\t\t\tdestinationNameLength = UTF8Length(this.payloadMessage.destinationName);\n\t\t\t\tremLength += destinationNameLength + 2;\n\t\t\t\tvar payloadBytes = this.payloadMessage.payloadBytes;\n\t\t\t\tremLength += payloadBytes.byteLength;\n\t\t\t\tif (payloadBytes instanceof ArrayBuffer)\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\telse if (!(payloadBytes instanceof Uint8Array))\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes.buffer);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Now we can allocate a buffer for the message\n\n\t\t\tvar mbi = encodeMBI(remLength);  // Convert the length to MQTT MBI format\n\t\t\tvar pos = mbi.length + 1;        // Offset of start of variable header\n\t\t\tvar buffer = new ArrayBuffer(remLength + pos);\n\t\t\tvar byteStream = new Uint8Array(buffer);    // view it as a sequence of bytes\n\n\t\t\t//Write the fixed header into the buffer\n\t\t\tbyteStream[0] = first;\n\t\t\tbyteStream.set(mbi,1);\n\n\t\t\t// If this is a PUBLISH then the variable header starts with a topic\n\t\t\tif (this.type == MESSAGE_TYPE.PUBLISH)\n\t\t\t\tpos = writeString(this.payloadMessage.destinationName, destinationNameLength, byteStream, pos);\n\t\t\t// If this is a CONNECT then the variable header contains the protocol name/version, flags and keepalive time\n\n\t\t\telse if (this.type == MESSAGE_TYPE.CONNECT) {\n\t\t\t\tswitch (this.mqttVersion) {\n\t\t\t\tcase 3:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv3, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv3.length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv4, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv4.length;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar connectFlags = 0;\n\t\t\t\tif (this.cleanSession)\n\t\t\t\t\tconnectFlags = 0x02;\n\t\t\t\tif (this.willMessage !== undefined ) {\n\t\t\t\t\tconnectFlags |= 0x04;\n\t\t\t\t\tconnectFlags |= (this.willMessage.qos<<3);\n\t\t\t\t\tif (this.willMessage.retained) {\n\t\t\t\t\t\tconnectFlags |= 0x20;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tconnectFlags |= 0x80;\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tconnectFlags |= 0x40;\n\t\t\t\tbyteStream[pos++] = connectFlags;\n\t\t\t\tpos = writeUint16 (this.keepAliveInterval, byteStream, pos);\n\t\t\t}\n\n\t\t\t// Output the messageIdentifier - if there is one\n\t\t\tif (this.messageIdentifier !== undefined)\n\t\t\t\tpos = writeUint16 (this.messageIdentifier, byteStream, pos);\n\n\t\t\tswitch(this.type) {\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tpos = writeString(this.clientId, UTF8Length(this.clientId), byteStream, pos);\n\t\t\t\tif (this.willMessage !== undefined) {\n\t\t\t\t\tpos = writeString(this.willMessage.destinationName, UTF8Length(this.willMessage.destinationName), byteStream, pos);\n\t\t\t\t\tpos = writeUint16(willMessagePayloadBytes.byteLength, byteStream, pos);\n\t\t\t\t\tbyteStream.set(willMessagePayloadBytes, pos);\n\t\t\t\t\tpos += willMessagePayloadBytes.byteLength;\n\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tpos = writeString(this.userName, UTF8Length(this.userName), byteStream, pos);\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tpos = writeString(this.password, UTF8Length(this.password), byteStream, pos);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t// PUBLISH has a text or binary payload, if text do not add a 2 byte length field, just the UTF characters.\n\t\t\t\tbyteStream.set(payloadBytes, pos);\n\n\t\t\t\tbreak;\n\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBREC:\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBREL:\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBCOMP:\n\t\t\t\t//    \t    \tbreak;\n\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\t// SUBSCRIBE has a list of topic strings and request QoS\n\t\t\t\tfor (var i=0; i<this.topics.length; i++) {\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\t\tbyteStream[pos++] = this.requestedQos[i];\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\t// UNSUBSCRIBE has a list of topic strings\n\t\t\t\tfor (var i=0; i<this.topics.length; i++)\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t// Do nothing.\n\t\t\t}\n\n\t\t\treturn buffer;\n\t\t};\n\n\t\tfunction decodeMessage(input,pos) {\n\t\t\tvar startingPos = pos;\n\t\t\tvar first = input[pos];\n\t\t\tvar type = first >> 4;\n\t\t\tvar messageInfo = first &= 0x0f;\n\t\t\tpos += 1;\n\n\n\t\t\t// Decode the remaining length (MBI format)\n\n\t\t\tvar digit;\n\t\t\tvar remLength = 0;\n\t\t\tvar multiplier = 1;\n\t\t\tdo {\n\t\t\t\tif (pos == input.length) {\n\t\t\t\t\treturn [null,startingPos];\n\t\t\t\t}\n\t\t\t\tdigit = input[pos++];\n\t\t\t\tremLength += ((digit & 0x7F) * multiplier);\n\t\t\t\tmultiplier *= 128;\n\t\t\t} while ((digit & 0x80) !== 0);\n\n\t\t\tvar endPos = pos+remLength;\n\t\t\tif (endPos > input.length) {\n\t\t\t\treturn [null,startingPos];\n\t\t\t}\n\n\t\t\tvar wireMessage = new WireMessage(type);\n\t\t\tswitch(type) {\n\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\tvar connectAcknowledgeFlags = input[pos++];\n\t\t\t\tif (connectAcknowledgeFlags & 0x01)\n\t\t\t\t\twireMessage.sessionPresent = true;\n\t\t\t\twireMessage.returnCode = input[pos++];\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tvar qos = (messageInfo >> 1) & 0x03;\n\n\t\t\t\tvar len = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\tvar topicName = parseUTF8(input, pos, len);\n\t\t\t\tpos += len;\n\t\t\t\t// If QoS 1 or 2 there will be a messageIdentifier\n\t\t\t\tif (qos > 0) {\n\t\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\t\tpos += 2;\n\t\t\t\t}\n\t\t\t\tvar message = new PahoMQTT.Message(input.subarray(pos, endPos));\n\t\t\t\tif ((messageInfo & 0x01) == 0x01)\n\t\t\t\t\tmessage.retained = true;\n\t\t\t\tif ((messageInfo & 0x08) == 0x08)\n\t\t\t\t\tmessage.duplicate =  true;\n\t\t\t\tmessage.qos = qos;\n\t\t\t\tmessage.destinationName = topicName;\n\t\t\t\twireMessage.payloadMessage = message;\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.PUBACK:\n\t\t\tcase  MESSAGE_TYPE.PUBREC:\n\t\t\tcase  MESSAGE_TYPE.PUBREL:\n\t\t\tcase  MESSAGE_TYPE.PUBCOMP:\n\t\t\tcase  MESSAGE_TYPE.UNSUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.SUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\twireMessage.returnCode = input.subarray(pos, endPos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn [wireMessage,endPos];\n\t\t}\n\n\t\tfunction writeUint16(input, buffer, offset) {\n\t\t\tbuffer[offset++] = input >> 8;      //MSB\n\t\t\tbuffer[offset++] = input % 256;     //LSB\n\t\t\treturn offset;\n\t\t}\n\n\t\tfunction writeString(input, utf8Length, buffer, offset) {\n\t\t\toffset = writeUint16(utf8Length, buffer, offset);\n\t\t\tstringToUTF8(input, buffer, offset);\n\t\t\treturn offset + utf8Length;\n\t\t}\n\n\t\tfunction readUint16(buffer, offset) {\n\t\t\treturn 256*buffer[offset] + buffer[offset+1];\n\t\t}\n\n\t\t/**\n\t * Encodes an MQTT Multi-Byte Integer\n\t * @private\n\t */\n\t\tfunction encodeMBI(number) {\n\t\t\tvar output = new Array(1);\n\t\t\tvar numBytes = 0;\n\n\t\t\tdo {\n\t\t\t\tvar digit = number % 128;\n\t\t\t\tnumber = number >> 7;\n\t\t\t\tif (number > 0) {\n\t\t\t\t\tdigit |= 0x80;\n\t\t\t\t}\n\t\t\t\toutput[numBytes++] = digit;\n\t\t\t} while ( (number > 0) && (numBytes<4) );\n\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Takes a String and calculates its length in bytes when encoded in UTF8.\n\t * @private\n\t */\n\t\tfunction UTF8Length(input) {\n\t\t\tvar output = 0;\n\t\t\tfor (var i = 0; i<input.length; i++)\n\t\t\t{\n\t\t\t\tvar charCode = input.charCodeAt(i);\n\t\t\t\tif (charCode > 0x7FF)\n\t\t\t\t{\n\t\t\t\t\t// Surrogate pair means its a 4 byte character\n\t\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF)\n\t\t\t\t\t{\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\toutput++;\n\t\t\t\t\t}\n\t\t\t\t\toutput +=3;\n\t\t\t\t}\n\t\t\t\telse if (charCode > 0x7F)\n\t\t\t\t\toutput +=2;\n\t\t\t\telse\n\t\t\t\t\toutput++;\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Takes a String and writes it into an array as UTF8 encoded bytes.\n\t * @private\n\t */\n\t\tfunction stringToUTF8(input, output, start) {\n\t\t\tvar pos = start;\n\t\t\tfor (var i = 0; i<input.length; i++) {\n\t\t\t\tvar charCode = input.charCodeAt(i);\n\n\t\t\t\t// Check for a surrogate pair.\n\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF) {\n\t\t\t\t\tvar lowCharCode = input.charCodeAt(++i);\n\t\t\t\t\tif (isNaN(lowCharCode)) {\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UNICODE, [charCode, lowCharCode]));\n\t\t\t\t\t}\n\t\t\t\t\tcharCode = ((charCode - 0xD800)<<10) + (lowCharCode - 0xDC00) + 0x10000;\n\n\t\t\t\t}\n\n\t\t\t\tif (charCode <= 0x7F) {\n\t\t\t\t\toutput[pos++] = charCode;\n\t\t\t\t} else if (charCode <= 0x7FF) {\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x1F | 0xC0;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t} else if (charCode <= 0xFFFF) {\n\t\t\t\t\toutput[pos++] = charCode>>12 & 0x0F | 0xE0;\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t} else {\n\t\t\t\t\toutput[pos++] = charCode>>18 & 0x07 | 0xF0;\n\t\t\t\t\toutput[pos++] = charCode>>12 & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\tfunction parseUTF8(input, offset, length) {\n\t\t\tvar output = \"\";\n\t\t\tvar utf16;\n\t\t\tvar pos = offset;\n\n\t\t\twhile (pos < offset+length)\n\t\t\t{\n\t\t\t\tvar byte1 = input[pos++];\n\t\t\t\tif (byte1 < 128)\n\t\t\t\t\tutf16 = byte1;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar byte2 = input[pos++]-128;\n\t\t\t\t\tif (byte2 < 0)\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16),\"\"]));\n\t\t\t\t\tif (byte1 < 0xE0)             // 2 byte character\n\t\t\t\t\t\tutf16 = 64*(byte1-0xC0) + byte2;\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvar byte3 = input[pos++]-128;\n\t\t\t\t\t\tif (byte3 < 0)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16)]));\n\t\t\t\t\t\tif (byte1 < 0xF0)        // 3 byte character\n\t\t\t\t\t\t\tutf16 = 4096*(byte1-0xE0) + 64*byte2 + byte3;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar byte4 = input[pos++]-128;\n\t\t\t\t\t\t\tif (byte4 < 0)\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t\tif (byte1 < 0xF8)        // 4 byte character\n\t\t\t\t\t\t\t\tutf16 = 262144*(byte1-0xF0) + 4096*byte2 + 64*byte3 + byte4;\n\t\t\t\t\t\t\telse                     // longer encodings are not supported\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (utf16 > 0xFFFF)   // 4 byte character - express as a surrogate pair\n\t\t\t\t{\n\t\t\t\t\tutf16 -= 0x10000;\n\t\t\t\t\toutput += String.fromCharCode(0xD800 + (utf16 >> 10)); // lead character\n\t\t\t\t\tutf16 = 0xDC00 + (utf16 & 0x3FF);  // trail character\n\t\t\t\t}\n\t\t\t\toutput += String.fromCharCode(utf16);\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Repeat keepalive requests, monitor responses.\n\t * @ignore\n\t */\n\t\tvar Pinger = function(client, keepAliveInterval) {\n\t\t\tthis._client = client;\n\t\t\tthis._keepAliveInterval = keepAliveInterval*1000;\n\t\t\tthis.isReset = false;\n\n\t\t\tvar pingReq = new WireMessage(MESSAGE_TYPE.PINGREQ).encode();\n\n\t\t\tvar doTimeout = function (pinger) {\n\t\t\t\treturn function () {\n\t\t\t\t\treturn doPing.apply(pinger);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t/** @ignore */\n\t\t\tvar doPing = function() {\n\t\t\t\tif (!this.isReset) {\n\t\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"Timed out\");\n\t\t\t\t\tthis._client._disconnected( ERROR.PING_TIMEOUT.code , format(ERROR.PING_TIMEOUT));\n\t\t\t\t} else {\n\t\t\t\t\tthis.isReset = false;\n\t\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"send PINGREQ\");\n\t\t\t\t\tthis._client.socket.send(pingReq);\n\t\t\t\t\tthis.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.reset = function() {\n\t\t\t\tthis.isReset = true;\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\tif (this._keepAliveInterval > 0)\n\t\t\t\t\tthis.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t\t};\n\n\t\t\tthis.cancel = function() {\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * Monitor request completion.\n\t * @ignore\n\t */\n\t\tvar Timeout = function(client, timeoutSeconds, action, args) {\n\t\t\tif (!timeoutSeconds)\n\t\t\t\ttimeoutSeconds = 30;\n\n\t\t\tvar doTimeout = function (action, client, args) {\n\t\t\t\treturn function () {\n\t\t\t\t\treturn action.apply(client, args);\n\t\t\t\t};\n\t\t\t};\n\t\t\tthis.timeout = setTimeout(doTimeout(action, client, args), timeoutSeconds * 1000);\n\n\t\t\tthis.cancel = function() {\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t};\n\t\t};\n\n\t/**\n\t * Internal implementation of the Websockets MQTT V3.1 client.\n\t *\n\t * @name Paho.ClientImpl @constructor\n\t * @param {String} host the DNS nameof the webSocket host.\n\t * @param {Number} port the port number for that host.\n\t * @param {String} clientId the MQ client identifier.\n\t */\n\t\tvar ClientImpl = function (uri, host, port, path, clientId) {\n\t\t// Check dependencies are satisfied in this browser.\n\t\t\tif (!(\"WebSocket\" in global && global.WebSocket !== null)) {\n\t\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"WebSocket\"]));\n\t\t\t}\n\t\t\tif (!(\"ArrayBuffer\" in global && global.ArrayBuffer !== null)) {\n\t\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"ArrayBuffer\"]));\n\t\t\t}\n\t\t\tthis._trace(\"Paho.Client\", uri, host, port, path, clientId);\n\n\t\t\tthis.host = host;\n\t\t\tthis.port = port;\n\t\t\tthis.path = path;\n\t\t\tthis.uri = uri;\n\t\t\tthis.clientId = clientId;\n\t\t\tthis._wsuri = null;\n\n\t\t\t// Local storagekeys are qualified with the following string.\n\t\t\t// The conditional inclusion of path in the key is for backward\n\t\t\t// compatibility to when the path was not configurable and assumed to\n\t\t\t// be /mqtt\n\t\t\tthis._localKey=host+\":\"+port+(path!=\"/mqtt\"?\":\"+path:\"\")+\":\"+clientId+\":\";\n\n\t\t\t// Create private instance-only message queue\n\t\t\t// Internal queue of messages to be sent, in sending order.\n\t\t\tthis._msg_queue = [];\n\t\t\tthis._buffered_msg_queue = [];\n\n\t\t\t// Messages we have sent and are expecting a response for, indexed by their respective message ids.\n\t\t\tthis._sentMessages = {};\n\n\t\t\t// Messages we have received and acknowleged and are expecting a confirm message for\n\t\t\t// indexed by their respective message ids.\n\t\t\tthis._receivedMessages = {};\n\n\t\t\t// Internal list of callbacks to be executed when messages\n\t\t\t// have been successfully sent over web socket, e.g. disconnect\n\t\t\t// when it doesn't have to wait for ACK, just message is dispatched.\n\t\t\tthis._notify_msg_sent = {};\n\n\t\t\t// Unique identifier for SEND messages, incrementing\n\t\t\t// counter as messages are sent.\n\t\t\tthis._message_identifier = 1;\n\n\t\t\t// Used to determine the transmission sequence of stored sent messages.\n\t\t\tthis._sequence = 0;\n\n\n\t\t\t// Load the local state, if any, from the saved version, only restore state relevant to this client.\n\t\t\tfor (var key in localStorage)\n\t\t\t\tif (   key.indexOf(\"Sent:\"+this._localKey) === 0 || key.indexOf(\"Received:\"+this._localKey) === 0)\n\t\t\t\t\tthis.restore(key);\n\t\t};\n\n\t\t// Messaging Client public instance members.\n\t\tClientImpl.prototype.host = null;\n\t\tClientImpl.prototype.port = null;\n\t\tClientImpl.prototype.path = null;\n\t\tClientImpl.prototype.uri = null;\n\t\tClientImpl.prototype.clientId = null;\n\n\t\t// Messaging Client private instance members.\n\t\tClientImpl.prototype.socket = null;\n\t\t/* true once we have received an acknowledgement to a CONNECT packet. */\n\t\tClientImpl.prototype.connected = false;\n\t\t/* The largest message identifier allowed, may not be larger than 2**16 but\n\t\t * if set smaller reduces the maximum number of outbound messages allowed.\n\t\t */\n\t\tClientImpl.prototype.maxMessageIdentifier = 65536;\n\t\tClientImpl.prototype.connectOptions = null;\n\t\tClientImpl.prototype.hostIndex = null;\n\t\tClientImpl.prototype.onConnected = null;\n\t\tClientImpl.prototype.onConnectionLost = null;\n\t\tClientImpl.prototype.onMessageDelivered = null;\n\t\tClientImpl.prototype.onMessageArrived = null;\n\t\tClientImpl.prototype.traceFunction = null;\n\t\tClientImpl.prototype._msg_queue = null;\n\t\tClientImpl.prototype._buffered_msg_queue = null;\n\t\tClientImpl.prototype._connectTimeout = null;\n\t\t/* The sendPinger monitors how long we allow before we send data to prove to the server that we are alive. */\n\t\tClientImpl.prototype.sendPinger = null;\n\t\t/* The receivePinger monitors how long we allow before we require evidence that the server is alive. */\n\t\tClientImpl.prototype.receivePinger = null;\n\t\tClientImpl.prototype._reconnectInterval = 1; // Reconnect Delay, starts at 1 second\n\t\tClientImpl.prototype._reconnecting = false;\n\t\tClientImpl.prototype._reconnectTimeout = null;\n\t\tClientImpl.prototype.disconnectedPublishing = false;\n\t\tClientImpl.prototype.disconnectedBufferSize = 5000;\n\n\t\tClientImpl.prototype.receiveBuffer = null;\n\n\t\tClientImpl.prototype._traceBuffer = null;\n\t\tClientImpl.prototype._MAX_TRACE_ENTRIES = 100;\n\n\t\tClientImpl.prototype.connect = function (connectOptions) {\n\t\t\tvar connectOptionsMasked = this._traceMask(connectOptions, \"password\");\n\t\t\tthis._trace(\"Client.connect\", connectOptionsMasked, this.socket, this.connected);\n\n\t\t\tif (this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\t\t\tif (this.socket)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\n\t\t\tif (this._reconnecting) {\n\t\t\t// connect() function is called while reconnect is in progress.\n\t\t\t// Terminate the auto reconnect process to use new connect options.\n\t\t\t\tthis._reconnectTimeout.cancel();\n\t\t\t\tthis._reconnectTimeout = null;\n\t\t\t\tthis._reconnecting = false;\n\t\t\t}\n\n\t\t\tthis.connectOptions = connectOptions;\n\t\t\tthis._reconnectInterval = 1;\n\t\t\tthis._reconnecting = false;\n\t\t\tif (connectOptions.uris) {\n\t\t\t\tthis.hostIndex = 0;\n\t\t\t\tthis._doConnect(connectOptions.uris[0]);\n\t\t\t} else {\n\t\t\t\tthis._doConnect(this.uri);\n\t\t\t}\n\n\t\t};\n\n\t\tClientImpl.prototype.subscribe = function (filter, subscribeOptions) {\n\t\t\tthis._trace(\"Client.subscribe\", filter, subscribeOptions);\n\n\t\t\tif (!this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.SUBSCRIBE);\n\t\t\twireMessage.topics=[filter];\n\t\t\tif (subscribeOptions.qos !== undefined)\n\t\t\t\twireMessage.requestedQos = [subscribeOptions.qos];\n\t\t\telse\n\t\t\t\twireMessage.requestedQos = [0];\n\n\t\t\tif (subscribeOptions.onSuccess) {\n\t\t\t\twireMessage.onSuccess = function(grantedQos) {subscribeOptions.onSuccess({invocationContext:subscribeOptions.invocationContext,grantedQos:grantedQos});};\n\t\t\t}\n\n\t\t\tif (subscribeOptions.onFailure) {\n\t\t\t\twireMessage.onFailure = function(errorCode) {subscribeOptions.onFailure({invocationContext:subscribeOptions.invocationContext,errorCode:errorCode, errorMessage:format(errorCode)});};\n\t\t\t}\n\n\t\t\tif (subscribeOptions.timeout) {\n\t\t\t\twireMessage.timeOut = new Timeout(this, subscribeOptions.timeout, subscribeOptions.onFailure,\n\t\t\t\t\t[{invocationContext:subscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.SUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.SUBSCRIBE_TIMEOUT)}]);\n\t\t\t}\n\n\t\t\t// All subscriptions return a SUBACK.\n\t\t\tthis._requires_ack(wireMessage);\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype.unsubscribe = function(filter, unsubscribeOptions) {\n\t\t\tthis._trace(\"Client.unsubscribe\", filter, unsubscribeOptions);\n\n\t\t\tif (!this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.UNSUBSCRIBE);\n\t\t\twireMessage.topics = [filter];\n\n\t\t\tif (unsubscribeOptions.onSuccess) {\n\t\t\t\twireMessage.callback = function() {unsubscribeOptions.onSuccess({invocationContext:unsubscribeOptions.invocationContext});};\n\t\t\t}\n\t\t\tif (unsubscribeOptions.timeout) {\n\t\t\t\twireMessage.timeOut = new Timeout(this, unsubscribeOptions.timeout, unsubscribeOptions.onFailure,\n\t\t\t\t\t[{invocationContext:unsubscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.UNSUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.UNSUBSCRIBE_TIMEOUT)}]);\n\t\t\t}\n\n\t\t\t// All unsubscribes return a SUBACK.\n\t\t\tthis._requires_ack(wireMessage);\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\tClientImpl.prototype.send = function (message) {\n\t\t\tthis._trace(\"Client.send\", message);\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.PUBLISH);\n\t\t\twireMessage.payloadMessage = message;\n\n\t\t\tif (this.connected) {\n\t\t\t// Mark qos 1 & 2 message as \"ACK required\"\n\t\t\t// For qos 0 message, invoke onMessageDelivered callback if there is one.\n\t\t\t// Then schedule the message.\n\t\t\t\tif (message.qos > 0) {\n\t\t\t\t\tthis._requires_ack(wireMessage);\n\t\t\t\t} else if (this.onMessageDelivered) {\n\t\t\t\t\tthis._notify_msg_sent[wireMessage] = this.onMessageDelivered(wireMessage.payloadMessage);\n\t\t\t\t}\n\t\t\t\tthis._schedule_message(wireMessage);\n\t\t\t} else {\n\t\t\t// Currently disconnected, will not schedule this message\n\t\t\t// Check if reconnecting is in progress and disconnected publish is enabled.\n\t\t\t\tif (this._reconnecting && this.disconnectedPublishing) {\n\t\t\t\t// Check the limit which include the \"required ACK\" messages\n\t\t\t\t\tvar messageCount = Object.keys(this._sentMessages).length + this._buffered_msg_queue.length;\n\t\t\t\t\tif (messageCount > this.disconnectedBufferSize) {\n\t\t\t\t\t\tthrow new Error(format(ERROR.BUFFER_FULL, [this.disconnectedBufferSize]));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (message.qos > 0) {\n\t\t\t\t\t\t// Mark this message as \"ACK required\"\n\t\t\t\t\t\t\tthis._requires_ack(wireMessage);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twireMessage.sequence = ++this._sequence;\n\t\t\t\t\t\t\t// Add messages in fifo order to array, by adding to start\n\t\t\t\t\t\t\tthis._buffered_msg_queue.unshift(wireMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.disconnect = function () {\n\t\t\tthis._trace(\"Client.disconnect\");\n\n\t\t\tif (this._reconnecting) {\n\t\t\t// disconnect() function is called while reconnect is in progress.\n\t\t\t// Terminate the auto reconnect process.\n\t\t\t\tthis._reconnectTimeout.cancel();\n\t\t\t\tthis._reconnectTimeout = null;\n\t\t\t\tthis._reconnecting = false;\n\t\t\t}\n\n\t\t\tif (!this.socket)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connecting or connected\"]));\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.DISCONNECT);\n\n\t\t\t// Run the disconnected call back as soon as the message has been sent,\n\t\t\t// in case of a failure later on in the disconnect processing.\n\t\t\t// as a consequence, the _disconected call back may be run several times.\n\t\t\tthis._notify_msg_sent[wireMessage] = scope(this._disconnected, this);\n\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\tClientImpl.prototype.getTraceLog = function () {\n\t\t\tif ( this._traceBuffer !== null ) {\n\t\t\t\tthis._trace(\"Client.getTraceLog\", new Date());\n\t\t\t\tthis._trace(\"Client.getTraceLog in flight messages\", this._sentMessages.length);\n\t\t\t\tfor (var key in this._sentMessages)\n\t\t\t\t\tthis._trace(\"_sentMessages \",key, this._sentMessages[key]);\n\t\t\t\tfor (var key in this._receivedMessages)\n\t\t\t\t\tthis._trace(\"_receivedMessages \",key, this._receivedMessages[key]);\n\n\t\t\t\treturn this._traceBuffer;\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.startTrace = function () {\n\t\t\tif ( this._traceBuffer === null ) {\n\t\t\t\tthis._traceBuffer = [];\n\t\t\t}\n\t\t\tthis._trace(\"Client.startTrace\", new Date(), version);\n\t\t};\n\n\t\tClientImpl.prototype.stopTrace = function () {\n\t\t\tdelete this._traceBuffer;\n\t\t};\n\n\t\tClientImpl.prototype._doConnect = function (wsurl) {\n\t\t// When the socket is open, this client will send the CONNECT WireMessage using the saved parameters.\n\t\t\tif (this.connectOptions.useSSL) {\n\t\t\t\tvar uriParts = wsurl.split(\":\");\n\t\t\t\turiParts[0] = \"wss\";\n\t\t\t\twsurl = uriParts.join(\":\");\n\t\t\t}\n\t\t\tthis._wsuri = wsurl;\n\t\t\tthis.connected = false;\n\n\n\n\t\t\tif (this.connectOptions.mqttVersion < 4) {\n\t\t\t\tthis.socket = new WebSocket(wsurl, [\"mqttv3.1\"]);\n\t\t\t} else {\n\t\t\t\tthis.socket = new WebSocket(wsurl, [\"mqtt\"]);\n\t\t\t}\n\t\t\tthis.socket.binaryType = \"arraybuffer\";\n\t\t\tthis.socket.onopen = scope(this._on_socket_open, this);\n\t\t\tthis.socket.onmessage = scope(this._on_socket_message, this);\n\t\t\tthis.socket.onerror = scope(this._on_socket_error, this);\n\t\t\tthis.socket.onclose = scope(this._on_socket_close, this);\n\n\t\t\tthis.sendPinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n\t\t\tthis.receivePinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n\t\t\tif (this._connectTimeout) {\n\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\tthis._connectTimeout = null;\n\t\t\t}\n\t\t\tthis._connectTimeout = new Timeout(this, this.connectOptions.timeout, this._disconnected,  [ERROR.CONNECT_TIMEOUT.code, format(ERROR.CONNECT_TIMEOUT)]);\n\t\t};\n\n\n\t\t// Schedule a new message to be sent over the WebSockets\n\t\t// connection. CONNECT messages cause WebSocket connection\n\t\t// to be started. All other messages are queued internally\n\t\t// until this has happened. When WS connection starts, process\n\t\t// all outstanding messages.\n\t\tClientImpl.prototype._schedule_message = function (message) {\n\t\t\t// Add messages in fifo order to array, by adding to start\n\t\t\tthis._msg_queue.unshift(message);\n\t\t\t// Process outstanding messages in the queue if we have an  open socket, and have received CONNACK.\n\t\t\tif (this.connected) {\n\t\t\t\tthis._process_queue();\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.store = function(prefix, wireMessage) {\n\t\t\tvar storedMessage = {type:wireMessage.type, messageIdentifier:wireMessage.messageIdentifier, version:1};\n\n\t\t\tswitch(wireMessage.type) {\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tif(wireMessage.pubRecReceived)\n\t\t\t\t\tstoredMessage.pubRecReceived = true;\n\n\t\t\t\t// Convert the payload to a hex string.\n\t\t\t\tstoredMessage.payloadMessage = {};\n\t\t\t\tvar hex = \"\";\n\t\t\t\tvar messageBytes = wireMessage.payloadMessage.payloadBytes;\n\t\t\t\tfor (var i=0; i<messageBytes.length; i++) {\n\t\t\t\t\tif (messageBytes[i] <= 0xF)\n\t\t\t\t\t\thex = hex+\"0\"+messageBytes[i].toString(16);\n\t\t\t\t\telse\n\t\t\t\t\t\thex = hex+messageBytes[i].toString(16);\n\t\t\t\t}\n\t\t\t\tstoredMessage.payloadMessage.payloadHex = hex;\n\n\t\t\t\tstoredMessage.payloadMessage.qos = wireMessage.payloadMessage.qos;\n\t\t\t\tstoredMessage.payloadMessage.destinationName = wireMessage.payloadMessage.destinationName;\n\t\t\t\tif (wireMessage.payloadMessage.duplicate)\n\t\t\t\t\tstoredMessage.payloadMessage.duplicate = true;\n\t\t\t\tif (wireMessage.payloadMessage.retained)\n\t\t\t\t\tstoredMessage.payloadMessage.retained = true;\n\n\t\t\t\t// Add a sequence number to sent messages.\n\t\t\t\tif ( prefix.indexOf(\"Sent:\") === 0 ) {\n\t\t\t\t\tif ( wireMessage.sequence === undefined )\n\t\t\t\t\t\twireMessage.sequence = ++this._sequence;\n\t\t\t\t\tstoredMessage.sequence = wireMessage.sequence;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(format(ERROR.INVALID_STORED_DATA, [prefix+this._localKey+wireMessage.messageIdentifier, storedMessage]));\n\t\t\t}\n\t\t\tlocalStorage.setItem(prefix+this._localKey+wireMessage.messageIdentifier, JSON.stringify(storedMessage));\n\t\t};\n\n\t\tClientImpl.prototype.restore = function(key) {\n\t\t\tvar value = localStorage.getItem(key);\n\t\t\tvar storedMessage = JSON.parse(value);\n\n\t\t\tvar wireMessage = new WireMessage(storedMessage.type, storedMessage);\n\n\t\t\tswitch(storedMessage.type) {\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t// Replace the payload message with a Message object.\n\t\t\t\tvar hex = storedMessage.payloadMessage.payloadHex;\n\t\t\t\tvar buffer = new ArrayBuffer((hex.length)/2);\n\t\t\t\tvar byteStream = new Uint8Array(buffer);\n\t\t\t\tvar i = 0;\n\t\t\t\twhile (hex.length >= 2) {\n\t\t\t\t\tvar x = parseInt(hex.substring(0, 2), 16);\n\t\t\t\t\thex = hex.substring(2, hex.length);\n\t\t\t\t\tbyteStream[i++] = x;\n\t\t\t\t}\n\t\t\t\tvar payloadMessage = new PahoMQTT.Message(byteStream);\n\t\t\t\tpayloadMessage.qos = storedMessage.payloadMessage.qos;\n\t\t\t\tpayloadMessage.destinationName = storedMessage.payloadMessage.destinationName;\n\t\t\t\tif (storedMessage.payloadMessage.duplicate)\n\t\t\t\t\tpayloadMessage.duplicate = true;\n\t\t\t\tif (storedMessage.payloadMessage.retained)\n\t\t\t\t\tpayloadMessage.retained = true;\n\t\t\t\twireMessage.payloadMessage = payloadMessage;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(format(ERROR.INVALID_STORED_DATA, [key, value]));\n\t\t\t}\n\n\t\t\tif (key.indexOf(\"Sent:\"+this._localKey) === 0) {\n\t\t\t\twireMessage.payloadMessage.duplicate = true;\n\t\t\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t} else if (key.indexOf(\"Received:\"+this._localKey) === 0) {\n\t\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype._process_queue = function () {\n\t\t\tvar message = null;\n\n\t\t\t// Send all queued messages down socket connection\n\t\t\twhile ((message = this._msg_queue.pop())) {\n\t\t\t\tthis._socket_send(message);\n\t\t\t\t// Notify listeners that message was successfully sent\n\t\t\t\tif (this._notify_msg_sent[message]) {\n\t\t\t\t\tthis._notify_msg_sent[message]();\n\t\t\t\t\tdelete this._notify_msg_sent[message];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Expect an ACK response for this message. Add message to the set of in progress\n\t * messages and set an unused identifier in this message.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._requires_ack = function (wireMessage) {\n\t\t\tvar messageCount = Object.keys(this._sentMessages).length;\n\t\t\tif (messageCount > this.maxMessageIdentifier)\n\t\t\t\tthrow Error (\"Too many messages:\"+messageCount);\n\n\t\t\twhile(this._sentMessages[this._message_identifier] !== undefined) {\n\t\t\t\tthis._message_identifier++;\n\t\t\t}\n\t\t\twireMessage.messageIdentifier = this._message_identifier;\n\t\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\tif (wireMessage.type === MESSAGE_TYPE.PUBLISH) {\n\t\t\t\tthis.store(\"Sent:\", wireMessage);\n\t\t\t}\n\t\t\tif (this._message_identifier === this.maxMessageIdentifier) {\n\t\t\t\tthis._message_identifier = 1;\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Called when the underlying websocket has been opened.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._on_socket_open = function () {\n\t\t// Create the CONNECT message object.\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.CONNECT, this.connectOptions);\n\t\t\twireMessage.clientId = this.clientId;\n\t\t\tthis._socket_send(wireMessage);\n\t\t};\n\n\t\t/**\n\t * Called when the underlying websocket has received a complete packet.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._on_socket_message = function (event) {\n\t\t\tthis._trace(\"Client._on_socket_message\", event.data);\n\t\t\tvar messages = this._deframeMessages(event.data);\n\t\t\tfor (var i = 0; i < messages.length; i+=1) {\n\t\t\t\tthis._handleMessage(messages[i]);\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype._deframeMessages = function(data) {\n\t\t\tvar byteArray = new Uint8Array(data);\n\t\t\tvar messages = [];\n\t\t\tif (this.receiveBuffer) {\n\t\t\t\tvar newData = new Uint8Array(this.receiveBuffer.length+byteArray.length);\n\t\t\t\tnewData.set(this.receiveBuffer);\n\t\t\t\tnewData.set(byteArray,this.receiveBuffer.length);\n\t\t\t\tbyteArray = newData;\n\t\t\t\tdelete this.receiveBuffer;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tvar offset = 0;\n\t\t\t\twhile(offset < byteArray.length) {\n\t\t\t\t\tvar result = decodeMessage(byteArray,offset);\n\t\t\t\t\tvar wireMessage = result[0];\n\t\t\t\t\toffset = result[1];\n\t\t\t\t\tif (wireMessage !== null) {\n\t\t\t\t\t\tmessages.push(wireMessage);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (offset < byteArray.length) {\n\t\t\t\t\tthis.receiveBuffer = byteArray.subarray(offset);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tvar errorStack = ((error.hasOwnProperty(\"stack\") == \"undefined\") ? error.stack.toString() : \"No Error Stack Available\");\n\t\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,errorStack]));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn messages;\n\t\t};\n\n\t\tClientImpl.prototype._handleMessage = function(wireMessage) {\n\n\t\t\tthis._trace(\"Client._handleMessage\", wireMessage);\n\n\t\t\ttry {\n\t\t\t\tswitch(wireMessage.type) {\n\t\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\t\tif (this._reconnectTimeout)\n\t\t\t\t\t\tthis._reconnectTimeout.cancel();\n\n\t\t\t\t\t// If we have started using clean session then clear up the local state.\n\t\t\t\t\tif (this.connectOptions.cleanSession) {\n\t\t\t\t\t\tfor (var key in this._sentMessages) {\n\t\t\t\t\t\t\tvar sentMessage = this._sentMessages[key];\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+sentMessage.messageIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._sentMessages = {};\n\n\t\t\t\t\t\tfor (var key in this._receivedMessages) {\n\t\t\t\t\t\t\tvar receivedMessage = this._receivedMessages[key];\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+receivedMessage.messageIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._receivedMessages = {};\n\t\t\t\t\t}\n\t\t\t\t\t// Client connected and ready for business.\n\t\t\t\t\tif (wireMessage.returnCode === 0) {\n\n\t\t\t\t\t\tthis.connected = true;\n\t\t\t\t\t\t// Jump to the end of the list of uris and stop looking for a good host.\n\n\t\t\t\t\t\tif (this.connectOptions.uris)\n\t\t\t\t\t\t\tthis.hostIndex = this.connectOptions.uris.length;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._disconnected(ERROR.CONNACK_RETURNCODE.code , format(ERROR.CONNACK_RETURNCODE, [wireMessage.returnCode, CONNACK_RC[wireMessage.returnCode]]));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Resend messages.\n\t\t\t\t\tvar sequencedMessages = [];\n\t\t\t\t\tfor (var msgId in this._sentMessages) {\n\t\t\t\t\t\tif (this._sentMessages.hasOwnProperty(msgId))\n\t\t\t\t\t\t\tsequencedMessages.push(this._sentMessages[msgId]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Also schedule qos 0 buffered messages if any\n\t\t\t\t\tif (this._buffered_msg_queue.length > 0) {\n\t\t\t\t\t\tvar msg = null;\n\t\t\t\t\t\twhile ((msg = this._buffered_msg_queue.pop())) {\n\t\t\t\t\t\t\tsequencedMessages.push(msg);\n\t\t\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\t\t\tthis._notify_msg_sent[msg] = this.onMessageDelivered(msg.payloadMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Sort sentMessages into the original sent order.\n\t\t\t\t\tvar sequencedMessages = sequencedMessages.sort(function(a,b) {return a.sequence - b.sequence;} );\n\t\t\t\t\tfor (var i=0, len=sequencedMessages.length; i<len; i++) {\n\t\t\t\t\t\tvar sentMessage = sequencedMessages[i];\n\t\t\t\t\t\tif (sentMessage.type == MESSAGE_TYPE.PUBLISH && sentMessage.pubRecReceived) {\n\t\t\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:sentMessage.messageIdentifier});\n\t\t\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._schedule_message(sentMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Execute the connectOptions.onSuccess callback if there is one.\n\t\t\t\t\t// Will also now return if this connection was the result of an automatic\n\t\t\t\t\t// reconnect and which URI was successfully connected to.\n\t\t\t\t\tif (this.connectOptions.onSuccess) {\n\t\t\t\t\t\tthis.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});\n\t\t\t\t\t}\n\n\t\t\t\t\tvar reconnected = false;\n\t\t\t\t\tif (this._reconnecting) {\n\t\t\t\t\t\treconnected = true;\n\t\t\t\t\t\tthis._reconnectInterval = 1;\n\t\t\t\t\t\tthis._reconnecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Execute the onConnected callback if there is one.\n\t\t\t\t\tthis._connected(reconnected, this._wsuri);\n\n\t\t\t\t\t// Process all queued messages now that the connection is established.\n\t\t\t\t\tthis._process_queue();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t\tthis._receivePublish(wireMessage);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t// If this is a re flow of a PUBACK after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBREC:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t// If this is a re flow of a PUBREC after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tsentMessage.pubRecReceived = true;\n\t\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\t\t\tthis.store(\"Sent:\", sentMessage);\n\t\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\t\tvar receivedMessage = this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\t// If this is a re flow of a PUBREL after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (receivedMessage) {\n\t\t\t\t\t\tthis._receiveMessage(receivedMessage);\n\t\t\t\t\t\tdelete this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\t\t\t\t\t// Always flow PubComp, we may have previously flowed PubComp but the server lost it and restarted.\n\t\t\t\t\tvar pubCompMessage = new WireMessage(MESSAGE_TYPE.PUBCOMP, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\t\tthis._schedule_message(pubCompMessage);\n\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBCOMP:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.SUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tif(sentMessage.timeOut)\n\t\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\t\t// This will need to be fixed when we add multiple topic support\n\t\t\t\t\t\tif (wireMessage.returnCode[0] === 0x80) {\n\t\t\t\t\t\t\tif (sentMessage.onFailure) {\n\t\t\t\t\t\t\t\tsentMessage.onFailure(wireMessage.returnCode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (sentMessage.onSuccess) {\n\t\t\t\t\t\t\tsentMessage.onSuccess(wireMessage.returnCode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.UNSUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tif (sentMessage.timeOut)\n\t\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\t\tif (sentMessage.callback) {\n\t\t\t\t\t\t\tsentMessage.callback();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PINGRESP:\n\t\t\t\t/* The sendPinger or receivePinger may have sent a ping, the receivePinger has already been reset. */\n\t\t\t\t\tthis.sendPinger.reset();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\t// Clients do not expect to receive disconnect packets.\n\t\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tvar errorStack = ((error.hasOwnProperty(\"stack\") == \"undefined\") ? error.stack.toString() : \"No Error Stack Available\");\n\t\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,errorStack]));\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._on_socket_error = function (error) {\n\t\t\tif (!this._reconnecting) {\n\t\t\t\tthis._disconnected(ERROR.SOCKET_ERROR.code , format(ERROR.SOCKET_ERROR, [error.data]));\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._on_socket_close = function () {\n\t\t\tif (!this._reconnecting) {\n\t\t\t\tthis._disconnected(ERROR.SOCKET_CLOSE.code , format(ERROR.SOCKET_CLOSE));\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._socket_send = function (wireMessage) {\n\n\t\t\tif (wireMessage.type == 1) {\n\t\t\t\tvar wireMessageMasked = this._traceMask(wireMessage, \"password\");\n\t\t\t\tthis._trace(\"Client._socket_send\", wireMessageMasked);\n\t\t\t}\n\t\t\telse this._trace(\"Client._socket_send\", wireMessage);\n\n\t\t\tthis.socket.send(wireMessage.encode());\n\t\t\t/* We have proved to the server we are alive. */\n\t\t\tthis.sendPinger.reset();\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._receivePublish = function (wireMessage) {\n\t\t\tswitch(wireMessage.payloadMessage.qos) {\n\t\t\tcase \"undefined\":\n\t\t\tcase 0:\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\tvar pubAckMessage = new WireMessage(MESSAGE_TYPE.PUBACK, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubAckMessage);\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t\tthis.store(\"Received:\", wireMessage);\n\t\t\t\tvar pubRecMessage = new WireMessage(MESSAGE_TYPE.PUBREC, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubRecMessage);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(\"Invaild qos=\" + wireMessage.payloadMessage.qos);\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._receiveMessage = function (wireMessage) {\n\t\t\tif (this.onMessageArrived) {\n\t\t\t\tthis.onMessageArrived(wireMessage.payloadMessage);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Client has connected.\n\t * @param {reconnect} [boolean] indicate if this was a result of reconnect operation.\n\t * @param {uri} [string] fully qualified WebSocket URI of the server.\n\t */\n\t\tClientImpl.prototype._connected = function (reconnect, uri) {\n\t\t// Execute the onConnected callback if there is one.\n\t\t\tif (this.onConnected)\n\t\t\t\tthis.onConnected(reconnect, uri);\n\t\t};\n\n\t\t/**\n\t * Attempts to reconnect the client to the server.\n   * For each reconnect attempt, will double the reconnect interval\n   * up to 128 seconds.\n\t */\n\t\tClientImpl.prototype._reconnect = function () {\n\t\t\tthis._trace(\"Client._reconnect\");\n\t\t\tif (!this.connected) {\n\t\t\t\tthis._reconnecting = true;\n\t\t\t\tthis.sendPinger.cancel();\n\t\t\t\tthis.receivePinger.cancel();\n\t\t\t\tif (this._reconnectInterval < 128)\n\t\t\t\t\tthis._reconnectInterval = this._reconnectInterval * 2;\n\t\t\t\tif (this.connectOptions.uris) {\n\t\t\t\t\tthis.hostIndex = 0;\n\t\t\t\t\tthis._doConnect(this.connectOptions.uris[0]);\n\t\t\t\t} else {\n\t\t\t\t\tthis._doConnect(this.uri);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Client has disconnected either at its own request or because the server\n\t * or network disconnected it. Remove all non-durable state.\n\t * @param {errorCode} [number] the error number.\n\t * @param {errorText} [string] the error text.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._disconnected = function (errorCode, errorText) {\n\t\t\tthis._trace(\"Client._disconnected\", errorCode, errorText);\n\n\t\t\tif (errorCode !== undefined && this._reconnecting) {\n\t\t\t\t//Continue automatic reconnect process\n\t\t\t\tthis._reconnectTimeout = new Timeout(this, this._reconnectInterval, this._reconnect);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.sendPinger.cancel();\n\t\t\tthis.receivePinger.cancel();\n\t\t\tif (this._connectTimeout) {\n\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\tthis._connectTimeout = null;\n\t\t\t}\n\n\t\t\t// Clear message buffers.\n\t\t\tthis._msg_queue = [];\n\t\t\tthis._buffered_msg_queue = [];\n\t\t\tthis._notify_msg_sent = {};\n\n\t\t\tif (this.socket) {\n\t\t\t// Cancel all socket callbacks so that they cannot be driven again by this socket.\n\t\t\t\tthis.socket.onopen = null;\n\t\t\t\tthis.socket.onmessage = null;\n\t\t\t\tthis.socket.onerror = null;\n\t\t\t\tthis.socket.onclose = null;\n\t\t\t\tif (this.socket.readyState === 1)\n\t\t\t\t\tthis.socket.close();\n\t\t\t\tdelete this.socket;\n\t\t\t}\n\n\t\t\tif (this.connectOptions.uris && this.hostIndex < this.connectOptions.uris.length-1) {\n\t\t\t// Try the next host.\n\t\t\t\tthis.hostIndex++;\n\t\t\t\tthis._doConnect(this.connectOptions.uris[this.hostIndex]);\n\t\t\t} else {\n\n\t\t\t\tif (errorCode === undefined) {\n\t\t\t\t\terrorCode = ERROR.OK.code;\n\t\t\t\t\terrorText = format(ERROR.OK);\n\t\t\t\t}\n\n\t\t\t\t// Run any application callbacks last as they may attempt to reconnect and hence create a new socket.\n\t\t\t\tif (this.connected) {\n\t\t\t\t\tthis.connected = false;\n\t\t\t\t\t// Execute the connectionLostCallback if there is one, and we were connected.\n\t\t\t\t\tif (this.onConnectionLost) {\n\t\t\t\t\t\tthis.onConnectionLost({errorCode:errorCode, errorMessage:errorText, reconnect:this.connectOptions.reconnect, uri:this._wsuri});\n\t\t\t\t\t}\n\t\t\t\t\tif (errorCode !== ERROR.OK.code && this.connectOptions.reconnect) {\n\t\t\t\t\t// Start automatic reconnect process for the very first time since last successful connect.\n\t\t\t\t\t\tthis._reconnectInterval = 1;\n\t\t\t\t\t\tthis._reconnect();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t// Otherwise we never had a connection, so indicate that the connect has failed.\n\t\t\t\t\tif (this.connectOptions.mqttVersion === 4 && this.connectOptions.mqttVersionExplicit === false) {\n\t\t\t\t\t\tthis._trace(\"Failed to connect V4, dropping back to V3\");\n\t\t\t\t\t\tthis.connectOptions.mqttVersion = 3;\n\t\t\t\t\t\tif (this.connectOptions.uris) {\n\t\t\t\t\t\t\tthis.hostIndex = 0;\n\t\t\t\t\t\t\tthis._doConnect(this.connectOptions.uris[0]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._doConnect(this.uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(this.connectOptions.onFailure) {\n\t\t\t\t\t\tthis.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext, errorCode:errorCode, errorMessage:errorText});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._trace = function () {\n\t\t// Pass trace message back to client's callback function\n\t\t\tif (this.traceFunction) {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tfor (var i in args)\n\t\t\t\t{\n\t\t\t\t\tif (typeof args[i] !== \"undefined\")\n\t\t\t\t\t\targs.splice(i, 1, JSON.stringify(args[i]));\n\t\t\t\t}\n\t\t\t\tvar record = args.join(\"\");\n\t\t\t\tthis.traceFunction ({severity: \"Debug\", message: record\t});\n\t\t\t}\n\n\t\t\t//buffer style trace\n\t\t\tif ( this._traceBuffer !== null ) {\n\t\t\t\tfor (var i = 0, max = arguments.length; i < max; i++) {\n\t\t\t\t\tif ( this._traceBuffer.length == this._MAX_TRACE_ENTRIES ) {\n\t\t\t\t\t\tthis._traceBuffer.shift();\n\t\t\t\t\t}\n\t\t\t\t\tif (i === 0) this._traceBuffer.push(arguments[i]);\n\t\t\t\t\telse if (typeof arguments[i] === \"undefined\" ) this._traceBuffer.push(arguments[i]);\n\t\t\t\t\telse this._traceBuffer.push(\"  \"+JSON.stringify(arguments[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._traceMask = function (traceObject, masked) {\n\t\t\tvar traceObjectMasked = {};\n\t\t\tfor (var attr in traceObject) {\n\t\t\t\tif (traceObject.hasOwnProperty(attr)) {\n\t\t\t\t\tif (attr == masked)\n\t\t\t\t\t\ttraceObjectMasked[attr] = \"******\";\n\t\t\t\t\telse\n\t\t\t\t\t\ttraceObjectMasked[attr] = traceObject[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn traceObjectMasked;\n\t\t};\n\n\t\t// ------------------------------------------------------------------------\n\t\t// Public Programming interface.\n\t\t// ------------------------------------------------------------------------\n\n\t\t/**\n\t * The JavaScript application communicates to the server using a {@link Paho.Client} object.\n\t * <p>\n\t * Most applications will create just one Client object and then call its connect() method,\n\t * however applications can create more than one Client object if they wish.\n\t * In this case the combination of host, port and clientId attributes must be different for each Client object.\n\t * <p>\n\t * The send, subscribe and unsubscribe methods are implemented as asynchronous JavaScript methods\n\t * (even though the underlying protocol exchange might be synchronous in nature).\n\t * This means they signal their completion by calling back to the application,\n\t * via Success or Failure callback functions provided by the application on the method in question.\n\t * Such callbacks are called at most once per method invocation and do not persist beyond the lifetime\n\t * of the script that made the invocation.\n\t * <p>\n\t * In contrast there are some callback functions, most notably <i>onMessageArrived</i>,\n\t * that are defined on the {@link Paho.Client} object.\n\t * These may get called multiple times, and aren't directly related to specific method invocations made by the client.\n\t *\n\t * @name Paho.Client\n\t *\n\t * @constructor\n\t *\n\t * @param {string} host - the address of the messaging server, as a fully qualified WebSocket URI, as a DNS name or dotted decimal IP address.\n\t * @param {number} port - the port number to connect to - only required if host is not a URI\n\t * @param {string} path - the path on the host to connect to - only used if host is not a URI. Default: '/mqtt'.\n\t * @param {string} clientId - the Messaging client identifier, between 1 and 23 characters in length.\n\t *\n\t * @property {string} host - <i>read only</i> the server's DNS hostname or dotted decimal IP address.\n\t * @property {number} port - <i>read only</i> the server's port.\n\t * @property {string} path - <i>read only</i> the server's path.\n\t * @property {string} clientId - <i>read only</i> used when connecting to the server.\n\t * @property {function} onConnectionLost - called when a connection has been lost.\n\t *                            after a connect() method has succeeded.\n\t *                            Establish the call back used when a connection has been lost. The connection may be\n\t *                            lost because the client initiates a disconnect or because the server or network\n\t *                            cause the client to be disconnected. The disconnect call back may be called without\n\t *                            the connectionComplete call back being invoked if, for example the client fails to\n\t *                            connect.\n\t *                            A single response object parameter is passed to the onConnectionLost callback containing the following fields:\n\t *                            <ol>\n\t *                            <li>errorCode\n\t *                            <li>errorMessage\n\t *                            </ol>\n\t * @property {function} onMessageDelivered - called when a message has been delivered.\n\t *                            All processing that this Client will ever do has been completed. So, for example,\n\t *                            in the case of a Qos=2 message sent by this client, the PubComp flow has been received from the server\n\t *                            and the message has been removed from persistent storage before this callback is invoked.\n\t *                            Parameters passed to the onMessageDelivered callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.Message} that was delivered.\n\t *                            </ol>\n\t * @property {function} onMessageArrived - called when a message has arrived in this Paho.client.\n\t *                            Parameters passed to the onMessageArrived callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.Message} that has arrived.\n\t *                            </ol>\n\t * @property {function} onConnected - called when a connection is successfully made to the server.\n\t *                                  after a connect() method.\n\t *                                  Parameters passed to the onConnected callback are:\n\t *                                  <ol>\n\t *                                  <li>reconnect (boolean) - If true, the connection was the result of a reconnect.</li>\n\t *                                  <li>URI (string) - The URI used to connect to the server.</li>\n\t *                                  </ol>\n\t * @property {boolean} disconnectedPublishing - if set, will enable disconnected publishing in\n\t *                                            in the event that the connection to the server is lost.\n\t * @property {number} disconnectedBufferSize - Used to set the maximum number of messages that the disconnected\n\t *                                             buffer will hold before rejecting new messages. Default size: 5000 messages\n\t * @property {function} trace - called whenever trace is called. TODO\n\t */\n\t\tvar Client = function (host, port, path, clientId) {\n\n\t\t\tvar uri;\n\n\t\t\tif (typeof host !== \"string\")\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof host, \"host\"]));\n\n\t\t\tif (arguments.length == 2) {\n\t\t\t// host: must be full ws:// uri\n\t\t\t// port: clientId\n\t\t\t\tclientId = port;\n\t\t\t\turi = host;\n\t\t\t\tvar match = uri.match(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/);\n\t\t\t\tif (match) {\n\t\t\t\t\thost = match[4]||match[2];\n\t\t\t\t\tport = parseInt(match[7]);\n\t\t\t\t\tpath = match[8];\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[host,\"host\"]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (arguments.length == 3) {\n\t\t\t\t\tclientId = path;\n\t\t\t\t\tpath = \"/mqtt\";\n\t\t\t\t}\n\t\t\t\tif (typeof port !== \"number\" || port < 0)\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof port, \"port\"]));\n\t\t\t\tif (typeof path !== \"string\")\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof path, \"path\"]));\n\n\t\t\t\tvar ipv6AddSBracket = (host.indexOf(\":\") !== -1 && host.slice(0,1) !== \"[\" && host.slice(-1) !== \"]\");\n\t\t\t\turi = \"ws://\"+(ipv6AddSBracket?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t\t}\n\n\t\t\tvar clientIdLength = 0;\n\t\t\tfor (var i = 0; i<clientId.length; i++) {\n\t\t\t\tvar charCode = clientId.charCodeAt(i);\n\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF)  {\n\t\t\t\t\ti++; // Surrogate pair.\n\t\t\t\t}\n\t\t\t\tclientIdLength++;\n\t\t\t}\n\t\t\tif (typeof clientId !== \"string\" || clientIdLength > 65535)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [clientId, \"clientId\"]));\n\n\t\t\tvar client = new ClientImpl(uri, host, port, path, clientId);\n\n\t\t\t//Public Properties\n\t\t\tObject.defineProperties(this,{\n\t\t\t\t\"host\":{\n\t\t\t\t\tget: function() { return host; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"port\":{\n\t\t\t\t\tget: function() { return port; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"path\":{\n\t\t\t\t\tget: function() { return path; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"uri\":{\n\t\t\t\t\tget: function() { return uri; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"clientId\":{\n\t\t\t\t\tget: function() { return client.clientId; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"onConnected\":{\n\t\t\t\t\tget: function() { return client.onConnected; },\n\t\t\t\t\tset: function(newOnConnected) {\n\t\t\t\t\t\tif (typeof newOnConnected === \"function\")\n\t\t\t\t\t\t\tclient.onConnected = newOnConnected;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnected, \"onConnected\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"disconnectedPublishing\":{\n\t\t\t\t\tget: function() { return client.disconnectedPublishing; },\n\t\t\t\t\tset: function(newDisconnectedPublishing) {\n\t\t\t\t\t\tclient.disconnectedPublishing = newDisconnectedPublishing;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"disconnectedBufferSize\":{\n\t\t\t\t\tget: function() { return client.disconnectedBufferSize; },\n\t\t\t\t\tset: function(newDisconnectedBufferSize) {\n\t\t\t\t\t\tclient.disconnectedBufferSize = newDisconnectedBufferSize;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onConnectionLost\":{\n\t\t\t\t\tget: function() { return client.onConnectionLost; },\n\t\t\t\t\tset: function(newOnConnectionLost) {\n\t\t\t\t\t\tif (typeof newOnConnectionLost === \"function\")\n\t\t\t\t\t\t\tclient.onConnectionLost = newOnConnectionLost;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnectionLost, \"onConnectionLost\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onMessageDelivered\":{\n\t\t\t\t\tget: function() { return client.onMessageDelivered; },\n\t\t\t\t\tset: function(newOnMessageDelivered) {\n\t\t\t\t\t\tif (typeof newOnMessageDelivered === \"function\")\n\t\t\t\t\t\t\tclient.onMessageDelivered = newOnMessageDelivered;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageDelivered, \"onMessageDelivered\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onMessageArrived\":{\n\t\t\t\t\tget: function() { return client.onMessageArrived; },\n\t\t\t\t\tset: function(newOnMessageArrived) {\n\t\t\t\t\t\tif (typeof newOnMessageArrived === \"function\")\n\t\t\t\t\t\t\tclient.onMessageArrived = newOnMessageArrived;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageArrived, \"onMessageArrived\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"trace\":{\n\t\t\t\t\tget: function() { return client.traceFunction; },\n\t\t\t\t\tset: function(trace) {\n\t\t\t\t\t\tif(typeof trace === \"function\"){\n\t\t\t\t\t\t\tclient.traceFunction = trace;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof trace, \"onTrace\"]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t/**\n\t\t * Connect this Messaging client to its server.\n\t\t *\n\t\t * @name Paho.Client#connect\n\t\t * @function\n\t\t * @param {object} connectOptions - Attributes used with the connection.\n\t\t * @param {number} connectOptions.timeout - If the connect has not succeeded within this\n\t\t *                    number of seconds, it is deemed to have failed.\n\t\t *                    The default is 30 seconds.\n\t\t * @param {string} connectOptions.userName - Authentication username for this connection.\n\t\t * @param {string} connectOptions.password - Authentication password for this connection.\n\t\t * @param {Paho.Message} connectOptions.willMessage - sent by the server when the client\n\t\t *                    disconnects abnormally.\n\t\t * @param {number} connectOptions.keepAliveInterval - the server disconnects this client if\n\t\t *                    there is no activity for this number of seconds.\n\t\t *                    The default value of 60 seconds is assumed if not set.\n\t\t * @param {boolean} connectOptions.cleanSession - if true(default) the client and server\n\t\t *                    persistent state is deleted on successful connect.\n\t\t * @param {boolean} connectOptions.useSSL - if present and true, use an SSL Websocket connection.\n\t\t * @param {object} connectOptions.invocationContext - passed to the onSuccess callback or onFailure callback.\n\t\t * @param {function} connectOptions.onSuccess - called when the connect acknowledgement\n\t\t *                    has been received from the server.\n\t\t * A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onSuccess method in the connectOptions.\n\t\t * </ol>\n\t * @param {function} connectOptions.onFailure - called when the connect request has failed or timed out.\n\t\t * A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onFailure method in the connectOptions.\n\t\t * <li>errorCode a number indicating the nature of the error.\n\t\t * <li>errorMessage text describing the error.\n\t\t * </ol>\n\t * @param {array} connectOptions.hosts - If present this contains either a set of hostnames or fully qualified\n\t\t * WebSocket URIs (ws://iot.eclipse.org:80/ws), that are tried in order in place\n\t\t * of the host and port paramater on the construtor. The hosts are tried one at at time in order until\n\t\t * one of then succeeds.\n\t * @param {array} connectOptions.ports - If present the set of ports matching the hosts. If hosts contains URIs, this property\n\t\t * is not used.\n\t * @param {boolean} connectOptions.reconnect - Sets whether the client will automatically attempt to reconnect\n\t * to the server if the connection is lost.\n\t *<ul>\n\t *<li>If set to false, the client will not attempt to automatically reconnect to the server in the event that the\n\t * connection is lost.</li>\n\t *<li>If set to true, in the event that the connection is lost, the client will attempt to reconnect to the server.\n\t * It will initially wait 1 second before it attempts to reconnect, for every failed reconnect attempt, the delay\n\t * will double until it is at 2 minutes at which point the delay will stay at 2 minutes.</li>\n\t *</ul>\n\t * @param {number} connectOptions.mqttVersion - The version of MQTT to use to connect to the MQTT Broker.\n\t *<ul>\n\t *<li>3 - MQTT V3.1</li>\n\t *<li>4 - MQTT V3.1.1</li>\n\t *</ul>\n\t * @param {boolean} connectOptions.mqttVersionExplicit - If set to true, will force the connection to use the\n\t * selected MQTT Version or will fail to connect.\n\t * @param {array} connectOptions.uris - If present, should contain a list of fully qualified WebSocket uris\n\t * (e.g. ws://iot.eclipse.org:80/ws), that are tried in order in place of the host and port parameter of the construtor.\n\t * The uris are tried one at a time in order until one of them succeeds. Do not use this in conjunction with hosts as\n\t * the hosts array will be converted to uris and will overwrite this property.\n\t\t * @throws {InvalidState} If the client is not in disconnected state. The client must have received connectionLost\n\t\t * or disconnected before calling connect for a second or subsequent time.\n\t\t */\n\t\t\tthis.connect = function (connectOptions) {\n\t\t\t\tconnectOptions = connectOptions || {} ;\n\t\t\t\tvalidate(connectOptions,  {timeout:\"number\",\n\t\t\t\t\tuserName:\"string\",\n\t\t\t\t\tpassword:\"string\",\n\t\t\t\t\twillMessage:\"object\",\n\t\t\t\t\tkeepAliveInterval:\"number\",\n\t\t\t\t\tcleanSession:\"boolean\",\n\t\t\t\t\tuseSSL:\"boolean\",\n\t\t\t\t\tinvocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\thosts:\"object\",\n\t\t\t\t\tports:\"object\",\n\t\t\t\t\treconnect:\"boolean\",\n\t\t\t\t\tmqttVersion:\"number\",\n\t\t\t\t\tmqttVersionExplicit:\"boolean\",\n\t\t\t\t\turis: \"object\"});\n\n\t\t\t\t// If no keep alive interval is set, assume 60 seconds.\n\t\t\t\tif (connectOptions.keepAliveInterval === undefined)\n\t\t\t\t\tconnectOptions.keepAliveInterval = 60;\n\n\t\t\t\tif (connectOptions.mqttVersion > 4 || connectOptions.mqttVersion < 3) {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.mqttVersion, \"connectOptions.mqttVersion\"]));\n\t\t\t\t}\n\n\t\t\t\tif (connectOptions.mqttVersion === undefined) {\n\t\t\t\t\tconnectOptions.mqttVersionExplicit = false;\n\t\t\t\t\tconnectOptions.mqttVersion = 4;\n\t\t\t\t} else {\n\t\t\t\t\tconnectOptions.mqttVersionExplicit = true;\n\t\t\t\t}\n\n\t\t\t\t//Check that if password is set, so is username\n\t\t\t\tif (connectOptions.password !== undefined && connectOptions.userName === undefined)\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.password, \"connectOptions.password\"]));\n\n\t\t\t\tif (connectOptions.willMessage) {\n\t\t\t\t\tif (!(connectOptions.willMessage instanceof Message))\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [connectOptions.willMessage, \"connectOptions.willMessage\"]));\n\t\t\t\t\t// The will message must have a payload that can be represented as a string.\n\t\t\t\t\t// Cause the willMessage to throw an exception if this is not the case.\n\t\t\t\t\tconnectOptions.willMessage.stringPayload = null;\n\n\t\t\t\t\tif (typeof connectOptions.willMessage.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.willMessage.destinationName, \"connectOptions.willMessage.destinationName\"]));\n\t\t\t\t}\n\t\t\t\tif (typeof connectOptions.cleanSession === \"undefined\")\n\t\t\t\t\tconnectOptions.cleanSession = true;\n\t\t\t\tif (connectOptions.hosts) {\n\n\t\t\t\t\tif (!(connectOptions.hosts instanceof Array) )\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\t\t\t\t\tif (connectOptions.hosts.length <1 )\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\n\t\t\t\t\tvar usingURIs = false;\n\t\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\t\tif (typeof connectOptions.hosts[i] !== \"string\")\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\tif (/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/.test(connectOptions.hosts[i])) {\n\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\tusingURIs = true;\n\t\t\t\t\t\t\t} else if (!usingURIs) {\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (usingURIs) {\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!usingURIs) {\n\t\t\t\t\t\tif (!connectOptions.ports)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\t\tif (!(connectOptions.ports instanceof Array) )\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\t\tif (connectOptions.hosts.length !== connectOptions.ports.length)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\n\t\t\t\t\t\tconnectOptions.uris = [];\n\n\t\t\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\t\t\tif (typeof connectOptions.ports[i] !== \"number\" || connectOptions.ports[i] < 0)\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.ports[i], \"connectOptions.ports[\"+i+\"]\"]));\n\t\t\t\t\t\t\tvar host = connectOptions.hosts[i];\n\t\t\t\t\t\t\tvar port = connectOptions.ports[i];\n\n\t\t\t\t\t\t\tvar ipv6 = (host.indexOf(\":\") !== -1);\n\t\t\t\t\t\t\turi = \"ws://\"+(ipv6?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t\t\t\t\t\tconnectOptions.uris.push(uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconnectOptions.uris = connectOptions.hosts;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclient.connect(connectOptions);\n\t\t\t};\n\n\t\t\t/**\n\t\t * Subscribe for messages, request receipt of a copy of messages sent to the destinations described by the filter.\n\t\t *\n\t\t * @name Paho.Client#subscribe\n\t\t * @function\n\t\t * @param {string} filter describing the destinations to receive messages from.\n\t\t * <br>\n\t\t * @param {object} subscribeOptions - used to control the subscription\n\t\t *\n\t\t * @param {number} subscribeOptions.qos - the maximum qos of any publications sent\n\t\t *                                  as a result of making this subscription.\n\t\t * @param {object} subscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t *                                  or onFailure callback.\n\t\t * @param {function} subscribeOptions.onSuccess - called when the subscribe acknowledgement\n\t\t *                                  has been received from the server.\n\t\t *                                  A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext if set in the subscribeOptions.\n\t\t *                                  </ol>\n\t\t * @param {function} subscribeOptions.onFailure - called when the subscribe request has failed or timed out.\n\t\t *                                  A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext - if set in the subscribeOptions.\n\t\t *                                  <li>errorCode - a number indicating the nature of the error.\n\t\t *                                  <li>errorMessage - text describing the error.\n\t\t *                                  </ol>\n\t\t * @param {number} subscribeOptions.timeout - which, if present, determines the number of\n\t\t *                                  seconds after which the onFailure calback is called.\n\t\t *                                  The presence of a timeout does not prevent the onSuccess\n\t\t *                                  callback from being called when the subscribe completes.\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\t\tthis.subscribe = function (filter, subscribeOptions) {\n\t\t\t\tif (typeof filter !== \"string\")\n\t\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\t\tsubscribeOptions = subscribeOptions || {} ;\n\t\t\t\tvalidate(subscribeOptions,  {qos:\"number\",\n\t\t\t\t\tinvocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\ttimeout:\"number\"\n\t\t\t\t});\n\t\t\t\tif (subscribeOptions.timeout && !subscribeOptions.onFailure)\n\t\t\t\t\tthrow new Error(\"subscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\t\tif (typeof subscribeOptions.qos !== \"undefined\" && !(subscribeOptions.qos === 0 || subscribeOptions.qos === 1 || subscribeOptions.qos === 2 ))\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [subscribeOptions.qos, \"subscribeOptions.qos\"]));\n\t\t\t\tclient.subscribe(filter, subscribeOptions);\n\t\t\t};\n\n\t\t\t/**\n\t\t * Unsubscribe for messages, stop receiving messages sent to destinations described by the filter.\n\t\t *\n\t\t * @name Paho.Client#unsubscribe\n\t\t * @function\n\t\t * @param {string} filter - describing the destinations to receive messages from.\n\t\t * @param {object} unsubscribeOptions - used to control the subscription\n\t\t * @param {object} unsubscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t\t\t\t\t\t\t\t\t\t  or onFailure callback.\n\t\t * @param {function} unsubscribeOptions.onSuccess - called when the unsubscribe acknowledgement has been received from the server.\n\t\t *                                    A single response object parameter is passed to the\n\t\t *                                    onSuccess callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    </ol>\n\t\t * @param {function} unsubscribeOptions.onFailure called when the unsubscribe request has failed or timed out.\n\t\t *                                    A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    <li>errorCode - a number indicating the nature of the error.\n\t\t *                                    <li>errorMessage - text describing the error.\n\t\t *                                    </ol>\n\t\t * @param {number} unsubscribeOptions.timeout - which, if present, determines the number of seconds\n\t\t *                                    after which the onFailure callback is called. The presence of\n\t\t *                                    a timeout does not prevent the onSuccess callback from being\n\t\t *                                    called when the unsubscribe completes\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\t\tthis.unsubscribe = function (filter, unsubscribeOptions) {\n\t\t\t\tif (typeof filter !== \"string\")\n\t\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\t\tunsubscribeOptions = unsubscribeOptions || {} ;\n\t\t\t\tvalidate(unsubscribeOptions,  {invocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\ttimeout:\"number\"\n\t\t\t\t});\n\t\t\t\tif (unsubscribeOptions.timeout && !unsubscribeOptions.onFailure)\n\t\t\t\t\tthrow new Error(\"unsubscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\t\tclient.unsubscribe(filter, unsubscribeOptions);\n\t\t\t};\n\n\t\t\t/**\n\t\t * Send a message to the consumers of the destination in the Message.\n\t\t *\n\t\t * @name Paho.Client#send\n\t\t * @function\n\t\t * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the destination to which the message is to be sent.\n\t\t * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n\t\t * @param {String|ArrayBuffer} payload - The message data to be sent.\n\t\t * @param {number} qos The Quality of Service used to deliver the message.\n\t\t * \t\t<dl>\n\t\t * \t\t\t<dt>0 Best effort (default).\n\t\t *     \t\t\t<dt>1 At least once.\n\t\t *     \t\t\t<dt>2 Exactly once.\n\t\t * \t\t</dl>\n\t\t * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n\t\t *                     to both current and future subscriptions.\n\t\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t\t *                     A received message has the retained boolean set to true if the message was published\n\t\t *                     with the retained boolean set to true\n\t\t *                     and the subscrption was made after the message has been published.\n\t\t * @throws {InvalidState} if the client is not connected.\n\t\t */\n\t\t\tthis.send = function (topic,payload,qos,retained) {\n\t\t\t\tvar message ;\n\n\t\t\t\tif(arguments.length === 0){\n\t\t\t\t\tthrow new Error(\"Invalid argument.\"+\"length\");\n\n\t\t\t\t}else if(arguments.length == 1) {\n\n\t\t\t\t\tif (!(topic instanceof Message) && (typeof topic !== \"string\"))\n\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+ typeof topic);\n\n\t\t\t\t\tmessage = topic;\n\t\t\t\t\tif (typeof message.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[message.destinationName,\"Message.destinationName\"]));\n\t\t\t\t\tclient.send(message);\n\n\t\t\t\t}else {\n\t\t\t\t//parameter checking in Message object\n\t\t\t\t\tmessage = new Message(payload);\n\t\t\t\t\tmessage.destinationName = topic;\n\t\t\t\t\tif(arguments.length >= 3)\n\t\t\t\t\t\tmessage.qos = qos;\n\t\t\t\t\tif(arguments.length >= 4)\n\t\t\t\t\t\tmessage.retained = retained;\n\t\t\t\t\tclient.send(message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t * Publish a message to the consumers of the destination in the Message.\n\t\t * Synonym for Paho.Mqtt.Client#send\n\t\t *\n\t\t * @name Paho.Client#publish\n\t\t * @function\n\t\t * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the topic to which the message is to be published.\n\t\t * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n\t\t * @param {String|ArrayBuffer} payload - The message data to be published.\n\t\t * @param {number} qos The Quality of Service used to deliver the message.\n\t\t * \t\t<dl>\n\t\t * \t\t\t<dt>0 Best effort (default).\n\t\t *     \t\t\t<dt>1 At least once.\n\t\t *     \t\t\t<dt>2 Exactly once.\n\t\t * \t\t</dl>\n\t\t * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n\t\t *                     to both current and future subscriptions.\n\t\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t\t *                     A received message has the retained boolean set to true if the message was published\n\t\t *                     with the retained boolean set to true\n\t\t *                     and the subscrption was made after the message has been published.\n\t\t * @throws {InvalidState} if the client is not connected.\n\t\t */\n\t\t\tthis.publish = function(topic,payload,qos,retained) {\n\t\t\t\tvar message ;\n\n\t\t\t\tif(arguments.length === 0){\n\t\t\t\t\tthrow new Error(\"Invalid argument.\"+\"length\");\n\n\t\t\t\t}else if(arguments.length == 1) {\n\n\t\t\t\t\tif (!(topic instanceof Message) && (typeof topic !== \"string\"))\n\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+ typeof topic);\n\n\t\t\t\t\tmessage = topic;\n\t\t\t\t\tif (typeof message.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[message.destinationName,\"Message.destinationName\"]));\n\t\t\t\t\tclient.send(message);\n\n\t\t\t\t}else {\n\t\t\t\t\t//parameter checking in Message object\n\t\t\t\t\tmessage = new Message(payload);\n\t\t\t\t\tmessage.destinationName = topic;\n\t\t\t\t\tif(arguments.length >= 3)\n\t\t\t\t\t\tmessage.qos = qos;\n\t\t\t\t\tif(arguments.length >= 4)\n\t\t\t\t\t\tmessage.retained = retained;\n\t\t\t\t\tclient.send(message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t * Normal disconnect of this Messaging client from its server.\n\t\t *\n\t\t * @name Paho.Client#disconnect\n\t\t * @function\n\t\t * @throws {InvalidState} if the client is already disconnected.\n\t\t */\n\t\t\tthis.disconnect = function () {\n\t\t\t\tclient.disconnect();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Get the contents of the trace log.\n\t\t *\n\t\t * @name Paho.Client#getTraceLog\n\t\t * @function\n\t\t * @return {Object[]} tracebuffer containing the time ordered trace records.\n\t\t */\n\t\t\tthis.getTraceLog = function () {\n\t\t\t\treturn client.getTraceLog();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Start tracing.\n\t\t *\n\t\t * @name Paho.Client#startTrace\n\t\t * @function\n\t\t */\n\t\t\tthis.startTrace = function () {\n\t\t\t\tclient.startTrace();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Stop tracing.\n\t\t *\n\t\t * @name Paho.Client#stopTrace\n\t\t * @function\n\t\t */\n\t\t\tthis.stopTrace = function () {\n\t\t\t\tclient.stopTrace();\n\t\t\t};\n\n\t\t\tthis.isConnected = function() {\n\t\t\t\treturn client.connected;\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * An application message, sent or received.\n\t * <p>\n\t * All attributes may be null, which implies the default values.\n\t *\n\t * @name Paho.Message\n\t * @constructor\n\t * @param {String|ArrayBuffer} payload The message data to be sent.\n\t * <p>\n\t * @property {string} payloadString <i>read only</i> The payload as a string if the payload consists of valid UTF-8 characters.\n\t * @property {ArrayBuffer} payloadBytes <i>read only</i> The payload as an ArrayBuffer.\n\t * <p>\n\t * @property {string} destinationName <b>mandatory</b> The name of the destination to which the message is to be sent\n\t *                    (for messages about to be sent) or the name of the destination from which the message has been received.\n\t *                    (for messages received by the onMessage function).\n\t * <p>\n\t * @property {number} qos The Quality of Service used to deliver the message.\n\t * <dl>\n\t *     <dt>0 Best effort (default).\n\t *     <dt>1 At least once.\n\t *     <dt>2 Exactly once.\n\t * </dl>\n\t * <p>\n\t * @property {Boolean} retained If true, the message is to be retained by the server and delivered\n\t *                     to both current and future subscriptions.\n\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t *                     A received message has the retained boolean set to true if the message was published\n\t *                     with the retained boolean set to true\n\t *                     and the subscrption was made after the message has been published.\n\t * <p>\n\t * @property {Boolean} duplicate <i>read only</i> If true, this message might be a duplicate of one which has already been received.\n\t *                     This is only set on messages received from the server.\n\t *\n\t */\n\t\tvar Message = function (newPayload) {\n\t\t\tvar payload;\n\t\t\tif (   typeof newPayload === \"string\" ||\n\t\tnewPayload instanceof ArrayBuffer ||\n\t\t(ArrayBuffer.isView(newPayload) && !(newPayload instanceof DataView))\n\t\t\t) {\n\t\t\t\tpayload = newPayload;\n\t\t\t} else {\n\t\t\t\tthrow (format(ERROR.INVALID_ARGUMENT, [newPayload, \"newPayload\"]));\n\t\t\t}\n\n\t\t\tvar destinationName;\n\t\t\tvar qos = 0;\n\t\t\tvar retained = false;\n\t\t\tvar duplicate = false;\n\n\t\t\tObject.defineProperties(this,{\n\t\t\t\t\"payloadString\":{\n\t\t\t\t\tenumerable : true,\n\t\t\t\t\tget : function () {\n\t\t\t\t\t\tif (typeof payload === \"string\")\n\t\t\t\t\t\t\treturn payload;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn parseUTF8(payload, 0, payload.length);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"payloadBytes\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\tif (typeof payload === \"string\") {\n\t\t\t\t\t\t\tvar buffer = new ArrayBuffer(UTF8Length(payload));\n\t\t\t\t\t\t\tvar byteStream = new Uint8Array(buffer);\n\t\t\t\t\t\t\tstringToUTF8(payload, byteStream, 0);\n\t\t\n\t\t\t\t\t\t\treturn byteStream;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn payload;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"destinationName\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return destinationName; },\n\t\t\t\t\tset: function(newDestinationName) {\n\t\t\t\t\t\tif (typeof newDestinationName === \"string\")\n\t\t\t\t\t\t\tdestinationName = newDestinationName;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newDestinationName, \"newDestinationName\"]));\n\t\t\t\t\t} \n\t\t\t\t},\n\t\t\t\t\"qos\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return qos; },\n\t\t\t\t\tset: function(newQos) {\n\t\t\t\t\t\tif (newQos === 0 || newQos === 1 || newQos === 2 )\n\t\t\t\t\t\t\tqos = newQos;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+newQos);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"retained\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return retained; },\n\t\t\t\t\tset: function(newRetained) {\n\t\t\t\t\t\tif (typeof newRetained === \"boolean\")\n\t\t\t\t\t\t\tretained = newRetained;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newRetained, \"newRetained\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"topic\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return destinationName; },\n\t\t\t\t\tset: function(newTopic) {destinationName=newTopic;}\n\t\t\t\t},\n\t\t\t\t\"duplicate\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return duplicate; },\n\t\t\t\t\tset: function(newDuplicate) {duplicate=newDuplicate;}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// Module contents.\n\t\treturn {\n\t\t\tClient: Client,\n\t\t\tMessage: Message\n\t\t};\n\t// eslint-disable-next-line no-nested-ternary\n\t})(typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n\treturn PahoMQTT;\n});\n", "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*!\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar core_1 = require(\"@apollo/client/core\");\nvar utils_1 = require(\"./utils\");\nvar Paho = require(\"./vendor/paho-mqtt\");\nvar utilities_1 = require(\"@apollo/client/utilities\");\nvar logger = utils_1.rootLogger.extend('subscriptions');\nvar mqttLogger = logger.extend('mqtt');\nexports.CONTROL_EVENTS_KEY = '@@controlEvents';\nvar SubscriptionHandshakeLink = /** @class */ (function (_super) {\n    __extends(SubscriptionHandshakeLink, _super);\n    function SubscriptionHandshakeLink(subsInfoContextKey) {\n        var _this = _super.call(this) || this;\n        _this.topicObservers = new Map();\n        _this.clientObservers = new Map();\n        _this.onMessage = function (topic, message, selectionNames) {\n            var parsedMessage = JSON.parse(message);\n            var observers = _this.topicObservers.get(topic);\n            var data = selectionNames.reduce(function (acc, name) { return (acc[name] = acc[name] || null, acc); }, parsedMessage.data || {});\n            logger('Message received', { data: data, topic: topic, observers: observers });\n            observers.forEach(function (observer) {\n                try {\n                    observer.next(__assign(__assign({}, parsedMessage), { data: data }));\n                }\n                catch (err) {\n                    logger(err);\n                }\n            });\n        };\n        _this.subsInfoContextKey = subsInfoContextKey;\n        return _this;\n    }\n    SubscriptionHandshakeLink.prototype.request = function (operation) {\n        var _a;\n        var _this = this;\n        var _b = operation.getContext(), _c = this.subsInfoContextKey, subsInfo = _b[_c], _d = _b.controlMessages, _e = exports.CONTROL_EVENTS_KEY, controlEvents = (_d === void 0 ? (_a = {}, _a[exports.CONTROL_EVENTS_KEY] = undefined, _a) : _d)[_e];\n        var _f = subsInfo.extensions, _g = (_f === void 0 ? { subscription: { newSubscriptions: {}, mqttConnections: [] } } : _f).subscription, newSubscriptions = _g.newSubscriptions, mqttConnections = _g.mqttConnections, _h = subsInfo.errors, errors = _h === void 0 ? [] : _h;\n        if (errors && errors.length) {\n            return new core_1.Observable(function (observer) {\n                observer.error(new core_1.ApolloError({\n                    errorMessage: 'Error during subscription handshake',\n                    extraInfo: { errors: errors },\n                    graphQLErrors: errors\n                }));\n                return function () { };\n            });\n        }\n        var newSubscriptionTopics = Object.keys(newSubscriptions).map(function (subKey) { return newSubscriptions[subKey].topic; });\n        var existingTopicsWithObserver = new Set(newSubscriptionTopics.filter(function (t) { return _this.topicObservers.has(t); }));\n        var newTopics = new Set(newSubscriptionTopics.filter(function (t) { return !existingTopicsWithObserver.has(t); }));\n        return new core_1.Observable(function (observer) {\n            existingTopicsWithObserver.forEach(function (t) {\n                _this.topicObservers.get(t).add(observer);\n                var anObserver = Array.from(_this.topicObservers.get(t)).find(function () { return true; });\n                var clientId = Array.from(_this.clientObservers).find(function (_a) {\n                    var observers = _a[1].observers;\n                    return observers.has(anObserver);\n                })[0];\n                _this.clientObservers.get(clientId).observers.add(observer);\n            });\n            var newTopicsConnectionInfo = mqttConnections\n                .filter(function (c) { return c.topics.some(function (t) { return newTopics.has(t); }); })\n                .map(function (_a) {\n                var topics = _a.topics, rest = __rest(_a, [\"topics\"]);\n                return (__assign(__assign({}, rest), { topics: topics.filter(function (t) { return newTopics.has(t); }) }));\n            });\n            _this.connectNewClients(newTopicsConnectionInfo, observer, operation);\n            return function () {\n                var clientsForCurrentObserver = Array.from(_this.clientObservers).filter(function (_a) {\n                    var observers = _a[1].observers;\n                    return observers.has(observer);\n                });\n                clientsForCurrentObserver.forEach(function (_a) {\n                    var clientId = _a[0];\n                    return _this.clientObservers.get(clientId).observers.delete(observer);\n                });\n                _this.clientObservers.forEach(function (_a) {\n                    var observers = _a.observers, client = _a.client;\n                    if (observers.size === 0) {\n                        if (client.isConnected()) {\n                            client.disconnect();\n                        }\n                        _this.clientObservers.delete(client.clientId);\n                    }\n                });\n                _this.clientObservers = new Map(Array.from(_this.clientObservers).filter(function (_a) {\n                    var observers = _a[1].observers;\n                    return observers.size > 0;\n                }));\n                _this.topicObservers.forEach(function (observers) { return observers.delete(observer); });\n                _this.topicObservers = new Map(Array.from(_this.topicObservers)\n                    .filter(function (_a) {\n                    var observers = _a[1];\n                    return observers.size > 0;\n                }));\n            };\n        }).filter(function (data) {\n            var _a = data.extensions, _b = (_a === void 0 ? {} : _a).controlMsgType, controlMsgType = _b === void 0 ? undefined : _b;\n            var isControlMsg = typeof controlMsgType !== 'undefined';\n            return controlEvents === true || !isControlMsg;\n        });\n    };\n    SubscriptionHandshakeLink.prototype.connectNewClients = function (connectionInfo, observer, operation) {\n        return __awaiter(this, void 0, void 0, function () {\n            var query, selectionNames, result, data;\n            var _this = this;\n            return __generator(this, function (_a) {\n                query = operation.query;\n                selectionNames = utilities_1.getMainDefinition(query).selectionSet.selections.map(function (_a) {\n                    var value = _a.name.value;\n                    return value;\n                });\n                result = Promise.all(connectionInfo.map(function (c) { return _this.connectNewClient(c, observer, selectionNames); }));\n                data = selectionNames.reduce(function (acc, name) { return (acc[name] = acc[name] || null, acc); }, {});\n                observer.next({\n                    data: data,\n                    extensions: {\n                        controlMsgType: 'CONNECTED',\n                        controlMsgInfo: {\n                            connectionInfo: connectionInfo,\n                        },\n                    }\n                });\n                return [2 /*return*/, result];\n            });\n        });\n    };\n    ;\n    SubscriptionHandshakeLink.prototype.connectNewClient = function (connectionInfo, observer, selectionNames) {\n        return __awaiter(this, void 0, void 0, function () {\n            var clientId, url, topics, client;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        clientId = connectionInfo.client, url = connectionInfo.url, topics = connectionInfo.topics;\n                        client = new Paho.Client(url, clientId);\n                        client.trace = mqttLogger.bind(null, clientId);\n                        client.onConnectionLost = function (_a) {\n                            var errorCode = _a.errorCode, args = __rest(_a, [\"errorCode\"]);\n                            if (errorCode !== 0) {\n                                topics.forEach(function (t) {\n                                    if (_this.topicObservers.has(t)) {\n                                        _this.topicObservers.get(t).forEach(function (observer) { return observer.error(__assign(__assign({}, args), { permanent: true })); });\n                                    }\n                                });\n                            }\n                            topics.forEach(function (t) { return _this.topicObservers.delete(t); });\n                        };\n                        client.onMessageArrived = function (_a) {\n                            var destinationName = _a.destinationName, payloadString = _a.payloadString;\n                            return _this.onMessage(destinationName, payloadString, selectionNames);\n                        };\n                        return [4 /*yield*/, new Promise(function (resolve, reject) {\n                                client.connect({\n                                    useSSL: url.indexOf('wss://') === 0,\n                                    mqttVersion: 3,\n                                    onSuccess: function () { return resolve(client); },\n                                    onFailure: reject,\n                                });\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.subscribeToTopics(client, topics, observer)];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/, client];\n                }\n            });\n        });\n    };\n    SubscriptionHandshakeLink.prototype.subscribeToTopics = function (client, topics, observer) {\n        var _this = this;\n        return Promise.all(topics.map(function (topic) { return _this.subscribeToTopic(client, topic, observer); }));\n    };\n    SubscriptionHandshakeLink.prototype.subscribeToTopic = function (client, topic, observer) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            client.subscribe(topic, {\n                onSuccess: function () {\n                    if (!_this.topicObservers.has(topic)) {\n                        _this.topicObservers.set(topic, new Set());\n                    }\n                    if (!_this.clientObservers.has(client.clientId)) {\n                        _this.clientObservers.set(client.clientId, { client: client, observers: new Set() });\n                    }\n                    _this.topicObservers.get(topic).add(observer);\n                    _this.clientObservers.get(client.clientId).observers.add(observer);\n                    resolve(topic);\n                },\n                onFailure: reject,\n            });\n        });\n    };\n    return SubscriptionHandshakeLink;\n}(core_1.ApolloLink));\nexports.SubscriptionHandshakeLink = SubscriptionHandshakeLink;\n", "import { ApolloLink, Operation, GraphQLRequest, NextLink } from '../core';\nimport { Observable, ObservableSubscription } from '../../utilities';\n\nexport type ContextSetter = (\n  operation: GraphQLRequest,\n  prevContext: any,\n) => Promise<any> | any;\n\nexport function setContext(setter: ContextSetter): ApolloLink {\n  return new ApolloLink((operation: Operation, forward: NextLink) => {\n    const { ...request } = operation;\n\n    return new Observable(observer => {\n      let handle: ObservableSubscription;\n      let closed = false;\n      Promise.resolve(request)\n        .then(req => setter(req, operation.getContext()))\n        .then(operation.setContext)\n        .then(() => {\n          // if the observer is already closed, no need to subscribe.\n          if (closed) return;\n          handle = forward(operation).subscribe({\n            next: observer.next.bind(observer),\n            error: observer.error.bind(observer),\n            complete: observer.complete.bind(observer),\n          });\n        })\n        .catch(observer.error.bind(observer));\n\n      return () => {\n        closed = true;\n        if (handle) handle.unsubscribe();\n      };\n    });\n  });\n}\n", "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*!\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar core_1 = require(\"@apollo/client/core\");\nvar context_1 = require(\"@apollo/client/link/context\");\nvar NonTerminatingLink = /** @class */ (function (_super) {\n    __extends(NonTerminatingLink, _super);\n    function NonTerminatingLink(contextKey, _a) {\n        var link = _a.link;\n        var _this = _super.call(this) || this;\n        _this.contextKey = contextKey;\n        _this.link = link;\n        return _this;\n    }\n    NonTerminatingLink.prototype.request = function (operation, forward) {\n        var _this = this;\n        return (context_1.setContext(function (_request, prevContext) { return __awaiter(_this, void 0, void 0, function () {\n            var result;\n            var _a;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, new Promise(function (resolve, reject) {\n                            _this.link.request(operation).subscribe({\n                                next: resolve,\n                                error: reject,\n                            });\n                        })];\n                    case 1:\n                        result = _b.sent();\n                        return [2 /*return*/, __assign(__assign({}, prevContext), (_a = {}, _a[this.contextKey] = result, _a))];\n                }\n            });\n        }); })).request(operation, forward);\n    };\n    return NonTerminatingLink;\n}(core_1.ApolloLink));\nexports.NonTerminatingLink = NonTerminatingLink;\n", "// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}", "export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;", "import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;", "import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;", "import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;", "import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;", "import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}", "/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;", "import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;", "import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;", "// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;", "import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;", "export default '00000000-0000-0000-0000-000000000000';", "import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;", "export { default as v1 } from './v1.js';\nexport { default as v3 } from './v3.js';\nexport { default as v4 } from './v4.js';\nexport { default as v5 } from './v5.js';\nexport { default as NIL } from './nil.js';\nexport { default as version } from './version.js';\nexport { default as validate } from './validate.js';\nexport { default as stringify } from './stringify.js';\nexport { default as parse } from './parse.js';", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//#region Subscription link enums\nvar SUBSCRIPTION_STATUS;\n(function (SUBSCRIPTION_STATUS) {\n    SUBSCRIPTION_STATUS[SUBSCRIPTION_STATUS[\"PENDING\"] = 0] = \"PENDING\";\n    SUBSCRIPTION_STATUS[SUBSCRIPTION_STATUS[\"CONNECTED\"] = 1] = \"CONNECTED\";\n    SUBSCRIPTION_STATUS[SUBSCRIPTION_STATUS[\"FAILED\"] = 2] = \"FAILED\";\n})(SUBSCRIPTION_STATUS = exports.SUBSCRIPTION_STATUS || (exports.SUBSCRIPTION_STATUS = {}));\nvar SOCKET_STATUS;\n(function (SOCKET_STATUS) {\n    SOCKET_STATUS[SOCKET_STATUS[\"CLOSED\"] = 0] = \"CLOSED\";\n    SOCKET_STATUS[SOCKET_STATUS[\"READY\"] = 1] = \"READY\";\n    SOCKET_STATUS[SOCKET_STATUS[\"CONNECTING\"] = 2] = \"CONNECTING\";\n})(SOCKET_STATUS = exports.SOCKET_STATUS || (exports.SOCKET_STATUS = {}));\nvar MESSAGE_TYPES;\n(function (MESSAGE_TYPES) {\n    /**\n     * Client -> Server message.\n     * This message type is the first message after handshake and this will initialize AWS AppSync RealTime communication\n     */\n    MESSAGE_TYPES[\"GQL_CONNECTION_INIT\"] = \"connection_init\";\n    /**\n     * Server -> Client message\n     * This message type is in case there is an issue with AWS AppSync RealTime when establishing connection\n     */\n    MESSAGE_TYPES[\"GQL_CONNECTION_ERROR\"] = \"connection_error\";\n    /**\n     * Server -> Client message.\n     * This message type is for the ack response from AWS AppSync RealTime for GQL_CONNECTION_INIT message\n     */\n    MESSAGE_TYPES[\"GQL_CONNECTION_ACK\"] = \"connection_ack\";\n    /**\n     * Client -> Server message.\n     * This message type is for register subscriptions with AWS AppSync RealTime\n     */\n    MESSAGE_TYPES[\"GQL_START\"] = \"start\";\n    /**\n     * Server -> Client message.\n     * This message type is for the ack response from AWS AppSync RealTime for GQL_START message\n     */\n    MESSAGE_TYPES[\"GQL_START_ACK\"] = \"start_ack\";\n    /**\n     * Server -> Client message.\n     * This message type is for subscription message from AWS AppSync RealTime\n     */\n    MESSAGE_TYPES[\"GQL_DATA\"] = \"data\";\n    /**\n     * Server -> Client message.\n     * This message type helps the client to know is still receiving messages from AWS AppSync RealTime\n     */\n    MESSAGE_TYPES[\"GQL_CONNECTION_KEEP_ALIVE\"] = \"ka\";\n    /**\n     * Client -> Server message.\n     * This message type is for unregister subscriptions with AWS AppSync RealTime\n     */\n    MESSAGE_TYPES[\"GQL_STOP\"] = \"stop\";\n    /**\n     * Server -> Client message.\n     * This message type is for the ack response from AWS AppSync RealTime for GQL_STOP message\n     */\n    MESSAGE_TYPES[\"GQL_COMPLETE\"] = \"complete\";\n    /**\n     * Server -> Client message.\n     * This message type is for sending error messages from AWS AppSync RealTime to the client\n     */\n    MESSAGE_TYPES[\"GQL_ERROR\"] = \"error\"; // Server -> Client\n})(MESSAGE_TYPES = exports.MESSAGE_TYPES || (exports.MESSAGE_TYPES = {}));\nvar CONTROL_MSG;\n(function (CONTROL_MSG) {\n    CONTROL_MSG[\"CONNECTION_CLOSED\"] = \"Connection closed\";\n    CONTROL_MSG[\"TIMEOUT_DISCONNECT\"] = \"Timeout disconnect\";\n    CONTROL_MSG[\"SUBSCRIPTION_ACK\"] = \"Subscription ack\";\n})(CONTROL_MSG = exports.CONTROL_MSG || (exports.CONTROL_MSG = {}));\n//#endregion\n", "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar index_1 = require(\"./index\");\nvar logger = index_1.rootLogger.extend(\"retry\");\nvar MAX_DELAY_MS = 5000;\n/**\n * Internal use of Subscription link\n * @private\n */\nvar NonRetryableError = /** @class */ (function (_super) {\n    __extends(NonRetryableError, _super);\n    function NonRetryableError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.nonRetryable = true;\n        return _this;\n    }\n    return NonRetryableError;\n}(Error));\nexports.NonRetryableError = NonRetryableError;\nvar isNonRetryableError = function (obj) {\n    var key = \"nonRetryable\";\n    return obj && obj[key];\n};\n/**\n * @private\n * Internal use of Subscription link\n */\nfunction retry(functionToRetry, args, delayFn, attempt) {\n    if (attempt === void 0) { attempt = 1; }\n    return __awaiter(this, void 0, void 0, function () {\n        var err_1, retryIn_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    logger(\"Attempt #\" + attempt + \" for this vars: \" + JSON.stringify(args));\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 8]);\n                    return [4 /*yield*/, functionToRetry.apply(undefined, args)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 3:\n                    err_1 = _a.sent();\n                    logger(\"error \" + err_1);\n                    if (isNonRetryableError(err_1)) {\n                        logger(\"non retryable error\");\n                        throw err_1;\n                    }\n                    retryIn_1 = delayFn(attempt, args, err_1);\n                    logger(\"retryIn \", retryIn_1);\n                    if (!(retryIn_1 !== false)) return [3 /*break*/, 6];\n                    return [4 /*yield*/, new Promise(function (res) { return setTimeout(res, retryIn_1); })];\n                case 4:\n                    _a.sent();\n                    return [4 /*yield*/, retry(functionToRetry, args, delayFn, attempt + 1)];\n                case 5: return [2 /*return*/, _a.sent()];\n                case 6: throw err_1;\n                case 7: return [3 /*break*/, 8];\n                case 8: return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.retry = retry;\nfunction jitteredBackoff(maxDelayMs) {\n    var BASE_TIME_MS = 100;\n    var JITTER_FACTOR = 100;\n    return function (attempt) {\n        var delay = Math.pow(2, attempt) * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n        return delay > maxDelayMs ? false : delay;\n    };\n}\n/**\n * @private\n * Internal use of Subscription link\n */\nexports.jitteredExponentialRetry = function (functionToRetry, args, maxDelayMs) {\n    if (maxDelayMs === void 0) { maxDelayMs = MAX_DELAY_MS; }\n    return retry(functionToRetry, args, jitteredBackoff(maxDelayMs));\n};\n", "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*!\n * Copyright 2017-2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nvar core_1 = require(\"@apollo/client/core\");\nvar utils_1 = require(\"./utils\");\nvar aws_appsync_auth_link_1 = require(\"aws-appsync-auth-link\");\nvar graphql_1 = require(\"graphql\");\nvar url = require(\"url\");\nvar uuid_1 = require(\"uuid\");\nvar types_1 = require(\"./types\");\nvar retry_1 = require(\"./utils/retry\");\nvar logger = utils_1.rootLogger.extend(\"subscriptions\");\nexports.CONTROL_EVENTS_KEY = \"@@controlEvents\";\nvar NON_RETRYABLE_CODES = [400, 401, 403];\nvar SERVICE = \"appsync\";\nvar APPSYNC_REALTIME_HEADERS = {\n    accept: 'application/json, text/javascript',\n    'content-encoding': 'amz-1.0',\n    'content-type': 'application/json; charset=UTF-8'\n};\n/**\n * Time in milliseconds to wait for GQL_CONNECTION_INIT message\n */\nvar CONNECTION_INIT_TIMEOUT = 15000;\n/**\n * Time in milliseconds to wait for GQL_START_ACK message\n */\nvar START_ACK_TIMEOUT = 15000;\n/**\n * Frequency in milliseconds in which the server sends GQL_CONNECTION_KEEP_ALIVE messages\n */\nvar SERVER_KEEP_ALIVE_TIMEOUT = 1 * 60 * 1000;\n/**\n * Default Time in milliseconds to wait for GQL_CONNECTION_KEEP_ALIVE message\n */\nvar DEFAULT_KEEP_ALIVE_TIMEOUT = 5 * 60 * 1000;\nvar standardDomainPattern = /^https:\\/\\/\\w{26}\\.appsync\\-api\\.\\w{2}(?:(?:\\-\\w{2,})+)\\-\\d\\.amazonaws.com\\/graphql$/i;\nvar customDomainPath = '/realtime';\nvar AppSyncRealTimeSubscriptionHandshakeLink = /** @class */ (function (_super) {\n    __extends(AppSyncRealTimeSubscriptionHandshakeLink, _super);\n    function AppSyncRealTimeSubscriptionHandshakeLink(_a) {\n        var theUrl = _a.url, theRegion = _a.region, theAuth = _a.auth, keepAliveTimeoutMs = _a.keepAliveTimeoutMs;\n        var _this = _super.call(this) || this;\n        _this.socketStatus = types_1.SOCKET_STATUS.CLOSED;\n        _this.keepAliveTimeout = undefined;\n        _this.subscriptionObserverMap = new Map();\n        _this.promiseArray = [];\n        _this.url = theUrl;\n        _this.region = theRegion;\n        _this.auth = theAuth;\n        _this.keepAliveTimeout = keepAliveTimeoutMs;\n        if (_this.keepAliveTimeout < SERVER_KEEP_ALIVE_TIMEOUT) {\n            var configName = 'keepAliveTimeoutMs';\n            throw new Error(configName + \" must be greater than or equal to \" + SERVER_KEEP_ALIVE_TIMEOUT + \" (\" + _this.keepAliveTimeout + \" used).\");\n        }\n        return _this;\n    }\n    // Check if url matches standard domain pattern\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype.isCustomDomain = function (url) {\n        return url.match(standardDomainPattern) === null;\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype.request = function (operation) {\n        var _a;\n        var _this = this;\n        var query = operation.query, variables = operation.variables;\n        var _b = operation.getContext(), _c = _b.controlMessages, _d = exports.CONTROL_EVENTS_KEY, controlEvents = (_c === void 0 ? (_a = {},\n            _a[exports.CONTROL_EVENTS_KEY] = undefined,\n            _a) : _c)[_d], headers = _b.headers;\n        return new core_1.Observable(function (observer) {\n            if (!_this.url) {\n                observer.error({\n                    errors: [\n                        __assign({}, new graphql_1.GraphQLError(\"Subscribe only available for AWS AppSync endpoint\")),\n                    ],\n                });\n                observer.complete();\n            }\n            else {\n                var subscriptionId_1 = uuid_1.v4();\n                var token = _this.auth.type === aws_appsync_auth_link_1.AUTH_TYPE.AMAZON_COGNITO_USER_POOLS ||\n                    _this.auth.type === aws_appsync_auth_link_1.AUTH_TYPE.OPENID_CONNECT\n                    ? _this.auth.jwtToken\n                    : null;\n                token = _this.auth.type === aws_appsync_auth_link_1.AUTH_TYPE.AWS_LAMBDA ? _this.auth.token : token;\n                var options = {\n                    appSyncGraphqlEndpoint: _this.url,\n                    authenticationType: _this.auth.type,\n                    query: graphql_1.print(query),\n                    region: _this.region,\n                    graphql_headers: function () { return (headers); },\n                    variables: variables,\n                    apiKey: _this.auth.type === aws_appsync_auth_link_1.AUTH_TYPE.API_KEY ? _this.auth.apiKey : \"\",\n                    credentials: _this.auth.type === aws_appsync_auth_link_1.AUTH_TYPE.AWS_IAM ? _this.auth.credentials : null,\n                    token: token\n                };\n                _this._startSubscriptionWithAWSAppSyncRealTime({\n                    options: options,\n                    observer: observer,\n                    subscriptionId: subscriptionId_1\n                });\n                return function () { return __awaiter(_this, void 0, void 0, function () {\n                    var subscriptionState;\n                    return __generator(this, function (_a) {\n                        // Cleanup after unsubscribing or observer.complete was called after _startSubscriptionWithAWSAppSyncRealTime\n                        try {\n                            this._verifySubscriptionAlreadyStarted(subscriptionId_1);\n                            subscriptionState = this.subscriptionObserverMap.get(subscriptionId_1).subscriptionState;\n                            if (subscriptionState === types_1.SUBSCRIPTION_STATUS.CONNECTED) {\n                                this._sendUnsubscriptionMessage(subscriptionId_1);\n                            }\n                            else {\n                                throw new Error(\"Subscription has failed, starting to remove subscription.\");\n                            }\n                        }\n                        catch (err) {\n                            this._removeSubscriptionObserver(subscriptionId_1);\n                            return [2 /*return*/];\n                        }\n                        return [2 /*return*/];\n                    });\n                }); };\n            }\n        }).filter(function (data) {\n            var _a = data.extensions, _b = (_a === void 0 ? {} : _a).controlMsgType, controlMsgType = _b === void 0 ? undefined : _b;\n            var isControlMsg = typeof controlMsgType !== \"undefined\";\n            return controlEvents === true || !isControlMsg;\n        });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._verifySubscriptionAlreadyStarted = function (subscriptionId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var subscriptionState;\n            var _this = this;\n            return __generator(this, function (_a) {\n                subscriptionState = this.subscriptionObserverMap.get(subscriptionId).subscriptionState;\n                // This in case unsubscribe is invoked before sending start subscription message\n                if (subscriptionState === types_1.SUBSCRIPTION_STATUS.PENDING) {\n                    return [2 /*return*/, new Promise(function (res, rej) {\n                            var _a = _this.subscriptionObserverMap.get(subscriptionId), observer = _a.observer, subscriptionState = _a.subscriptionState, variables = _a.variables, query = _a.query;\n                            _this.subscriptionObserverMap.set(subscriptionId, {\n                                observer: observer,\n                                subscriptionState: subscriptionState,\n                                variables: variables,\n                                query: query,\n                                subscriptionReadyCallback: res,\n                                subscriptionFailedCallback: rej\n                            });\n                        })];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._sendUnsubscriptionMessage = function (subscriptionId) {\n        try {\n            if (this.awsRealTimeSocket &&\n                this.awsRealTimeSocket.readyState === WebSocket.OPEN &&\n                this.socketStatus === types_1.SOCKET_STATUS.READY) {\n                // Preparing unsubscribe message to stop receiving messages for that subscription\n                var unsubscribeMessage = {\n                    id: subscriptionId,\n                    type: types_1.MESSAGE_TYPES.GQL_STOP\n                };\n                var stringToAWSRealTime = JSON.stringify(unsubscribeMessage);\n                this.awsRealTimeSocket.send(stringToAWSRealTime);\n                this._removeSubscriptionObserver(subscriptionId);\n            }\n        }\n        catch (err) {\n            // If GQL_STOP is not sent because of disconnection issue, then there is nothing the client can do\n            logger({ err: err });\n        }\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._removeSubscriptionObserver = function (subscriptionId) {\n        this.subscriptionObserverMap.delete(subscriptionId);\n        // Verifying for 1000ms after removing subscription in case there are new subscriptions on mount / unmount\n        setTimeout(this._closeSocketIfRequired.bind(this), 1000);\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._closeSocketIfRequired = function () {\n        if (this.subscriptionObserverMap.size > 0) {\n            // There are active subscriptions on the WebSocket\n            return;\n        }\n        if (!this.awsRealTimeSocket) {\n            this.socketStatus = types_1.SOCKET_STATUS.CLOSED;\n            return;\n        }\n        if (this.awsRealTimeSocket.bufferedAmount > 0) {\n            // There is still data on the WebSocket\n            setTimeout(this._closeSocketIfRequired.bind(this), 1000);\n        }\n        else {\n            logger(\"closing WebSocket...\");\n            clearTimeout(this.keepAliveTimeoutId);\n            var tempSocket = this.awsRealTimeSocket;\n            tempSocket.close(1000);\n            this.awsRealTimeSocket = null;\n            this.socketStatus = types_1.SOCKET_STATUS.CLOSED;\n        }\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._startSubscriptionWithAWSAppSyncRealTime = function (_a) {\n        var options = _a.options, observer = _a.observer, subscriptionId = _a.subscriptionId;\n        return __awaiter(this, void 0, void 0, function () {\n            var appSyncGraphqlEndpoint, authenticationType, query, variables, apiKey, region, _b, graphql_headers, credentials, token, subscriptionState, data, dataString, headerObj, _c, subscriptionMessage, stringToAWSRealTime, err_1, _d, message, subscriptionFailedCallback_1, _e, subscriptionFailedCallback, subscriptionReadyCallback;\n            var _f;\n            var _this = this;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0:\n                        appSyncGraphqlEndpoint = options.appSyncGraphqlEndpoint, authenticationType = options.authenticationType, query = options.query, variables = options.variables, apiKey = options.apiKey, region = options.region, _b = options.graphql_headers, graphql_headers = _b === void 0 ? function () { return ({}); } : _b, credentials = options.credentials, token = options.token;\n                        subscriptionState = types_1.SUBSCRIPTION_STATUS.PENDING;\n                        data = {\n                            query: query,\n                            variables: variables\n                        };\n                        // Having a subscription id map will make it simple to forward messages received\n                        this.subscriptionObserverMap.set(subscriptionId, {\n                            observer: observer,\n                            query: query,\n                            variables: variables,\n                            subscriptionState: subscriptionState,\n                            startAckTimeoutId: null,\n                        });\n                        dataString = JSON.stringify(data);\n                        _c = [{}];\n                        return [4 /*yield*/, this._awsRealTimeHeaderBasedAuth({\n                                apiKey: apiKey,\n                                appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n                                authenticationType: authenticationType,\n                                payload: dataString,\n                                canonicalUri: \"\",\n                                region: region,\n                                credentials: credentials,\n                                token: token,\n                                graphql_headers: graphql_headers\n                            })];\n                    case 1:\n                        headerObj = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_g.sent())])), (_f = {}, _f[aws_appsync_auth_link_1.USER_AGENT_HEADER] = aws_appsync_auth_link_1.USER_AGENT, _f)]);\n                        subscriptionMessage = {\n                            id: subscriptionId,\n                            payload: {\n                                data: dataString,\n                                extensions: {\n                                    authorization: __assign({}, headerObj)\n                                }\n                            },\n                            type: types_1.MESSAGE_TYPES.GQL_START\n                        };\n                        stringToAWSRealTime = JSON.stringify(subscriptionMessage);\n                        _g.label = 2;\n                    case 2:\n                        _g.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this._initializeWebSocketConnection({\n                                apiKey: apiKey,\n                                appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n                                authenticationType: authenticationType,\n                                region: region,\n                                credentials: credentials,\n                                token: token\n                            })];\n                    case 3:\n                        _g.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        err_1 = _g.sent();\n                        _d = err_1.message, message = _d === void 0 ? \"\" : _d;\n                        observer.error({\n                            errors: [\n                                __assign({}, new graphql_1.GraphQLError(\"Connection failed: \" + message))\n                            ]\n                        });\n                        observer.complete();\n                        subscriptionFailedCallback_1 = (this.subscriptionObserverMap.get(subscriptionId) || {}).subscriptionFailedCallback;\n                        // Notify concurrent unsubscription\n                        if (typeof subscriptionFailedCallback_1 === \"function\") {\n                            subscriptionFailedCallback_1();\n                        }\n                        return [2 /*return*/];\n                    case 5:\n                        _e = this.subscriptionObserverMap.get(subscriptionId), subscriptionFailedCallback = _e.subscriptionFailedCallback, subscriptionReadyCallback = _e.subscriptionReadyCallback;\n                        // This must be done before sending the message in order to be listening immediately\n                        this.subscriptionObserverMap.set(subscriptionId, {\n                            observer: observer,\n                            subscriptionState: subscriptionState,\n                            variables: variables,\n                            query: query,\n                            subscriptionReadyCallback: subscriptionReadyCallback,\n                            subscriptionFailedCallback: subscriptionFailedCallback,\n                            startAckTimeoutId: setTimeout(function () {\n                                _this._timeoutStartSubscriptionAck.call(_this, subscriptionId);\n                            }, START_ACK_TIMEOUT)\n                        });\n                        if (this.awsRealTimeSocket) {\n                            this.awsRealTimeSocket.send(stringToAWSRealTime);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._initializeWebSocketConnection = function (_a) {\n        var _this = this;\n        var appSyncGraphqlEndpoint = _a.appSyncGraphqlEndpoint, authenticationType = _a.authenticationType, apiKey = _a.apiKey, region = _a.region, credentials = _a.credentials, token = _a.token;\n        if (this.socketStatus === types_1.SOCKET_STATUS.READY) {\n            return;\n        }\n        return new Promise(function (res, rej) { return __awaiter(_this, void 0, void 0, function () {\n            var payloadString, headerString, _a, _b, headerQs, payloadQs, discoverableEndpoint, awsRealTimeUrl, err_2;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        this.promiseArray.push({ res: res, rej: rej });\n                        if (!(this.socketStatus === types_1.SOCKET_STATUS.CLOSED)) return [3 /*break*/, 5];\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 4, , 5]);\n                        this.socketStatus = types_1.SOCKET_STATUS.CONNECTING;\n                        payloadString = \"{}\";\n                        _b = (_a = JSON).stringify;\n                        return [4 /*yield*/, this._awsRealTimeHeaderBasedAuth({\n                                authenticationType: authenticationType,\n                                payload: payloadString,\n                                canonicalUri: \"/connect\",\n                                apiKey: apiKey,\n                                appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n                                region: region,\n                                credentials: credentials,\n                                token: token,\n                                graphql_headers: function () { }\n                            })];\n                    case 2:\n                        headerString = _b.apply(_a, [_c.sent()]);\n                        headerQs = Buffer.from(headerString).toString(\"base64\");\n                        payloadQs = Buffer.from(payloadString).toString(\"base64\");\n                        discoverableEndpoint = appSyncGraphqlEndpoint;\n                        if (this.isCustomDomain(discoverableEndpoint)) {\n                            discoverableEndpoint = discoverableEndpoint.concat(customDomainPath);\n                        }\n                        else {\n                            discoverableEndpoint = discoverableEndpoint.replace('appsync-api', 'appsync-realtime-api').replace('gogi-beta', 'grt-beta');\n                        }\n                        discoverableEndpoint = discoverableEndpoint\n                            .replace(\"https://\", \"wss://\")\n                            .replace('http://', 'ws://');\n                        awsRealTimeUrl = discoverableEndpoint + \"?header=\" + headerQs + \"&payload=\" + payloadQs;\n                        return [4 /*yield*/, this._initializeRetryableHandshake({ awsRealTimeUrl: awsRealTimeUrl })];\n                    case 3:\n                        _c.sent();\n                        this.promiseArray.forEach(function (_a) {\n                            var res = _a.res;\n                            logger(\"Notifying connection successful\");\n                            res();\n                        });\n                        this.socketStatus = types_1.SOCKET_STATUS.READY;\n                        this.promiseArray = [];\n                        return [3 /*break*/, 5];\n                    case 4:\n                        err_2 = _c.sent();\n                        this.promiseArray.forEach(function (_a) {\n                            var rej = _a.rej;\n                            return rej(err_2);\n                        });\n                        this.promiseArray = [];\n                        if (this.awsRealTimeSocket &&\n                            this.awsRealTimeSocket.readyState === WebSocket.OPEN) {\n                            this.awsRealTimeSocket.close(3001);\n                        }\n                        this.awsRealTimeSocket = null;\n                        this.socketStatus = types_1.SOCKET_STATUS.CLOSED;\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._awsRealTimeHeaderBasedAuth = function (_a) {\n        var authenticationType = _a.authenticationType, payload = _a.payload, canonicalUri = _a.canonicalUri, appSyncGraphqlEndpoint = _a.appSyncGraphqlEndpoint, apiKey = _a.apiKey, region = _a.region, credentials = _a.credentials, token = _a.token, graphql_headers = _a.graphql_headers;\n        return __awaiter(this, void 0, void 0, function () {\n            var headerHandler, handler, host, result;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        headerHandler = {\n                            API_KEY: this._awsRealTimeApiKeyHeader.bind(this),\n                            AWS_IAM: this._awsRealTimeIAMHeader.bind(this),\n                            OPENID_CONNECT: this._awsRealTimeAuthorizationHeader.bind(this),\n                            AMAZON_COGNITO_USER_POOLS: this._awsRealTimeAuthorizationHeader.bind(this),\n                            AWS_LAMBDA: this._awsRealTimeAuthorizationHeader.bind(this)\n                        };\n                        handler = headerHandler[authenticationType];\n                        if (typeof handler !== \"function\") {\n                            logger(\"Authentication type \" + authenticationType + \" not supported\");\n                            return [2 /*return*/, {}];\n                        }\n                        host = url.parse(appSyncGraphqlEndpoint).host;\n                        return [4 /*yield*/, handler({\n                                payload: payload,\n                                canonicalUri: canonicalUri,\n                                appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n                                apiKey: apiKey,\n                                region: region,\n                                host: host,\n                                credentials: credentials,\n                                token: token,\n                                graphql_headers: graphql_headers\n                            })];\n                    case 1:\n                        result = _b.sent();\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._awsRealTimeAuthorizationHeader = function (_a) {\n        var host = _a.host, token = _a.token, graphql_headers = _a.graphql_headers;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, _c, _d;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        _b = {};\n                        if (!(typeof token === \"function\")) return [3 /*break*/, 2];\n                        return [4 /*yield*/, token.call(undefined)];\n                    case 1:\n                        _c = _e.sent();\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, token];\n                    case 3:\n                        _c = _e.sent();\n                        _e.label = 4;\n                    case 4:\n                        _d = [(_b.Authorization = _c, _b.host = host, _b)];\n                        return [4 /*yield*/, graphql_headers()];\n                    case 5: return [2 /*return*/, __assign.apply(void 0, _d.concat([(_e.sent())]))];\n                }\n            });\n        });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._awsRealTimeApiKeyHeader = function (_a) {\n        var apiKey = _a.apiKey, host = _a.host, graphql_headers = _a.graphql_headers;\n        return __awaiter(this, void 0, void 0, function () {\n            var dt, dtStr, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        dt = new Date();\n                        dtStr = dt.toISOString().replace(/[:\\-]|\\.\\d{3}/g, \"\");\n                        _b = [{ host: host, \"x-amz-date\": dtStr, \"x-api-key\": apiKey }];\n                        return [4 /*yield*/, graphql_headers()];\n                    case 1: return [2 /*return*/, __assign.apply(void 0, _b.concat([(_c.sent())]))];\n                }\n            });\n        });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._awsRealTimeIAMHeader = function (_a) {\n        var payload = _a.payload, canonicalUri = _a.canonicalUri, appSyncGraphqlEndpoint = _a.appSyncGraphqlEndpoint, region = _a.region, credentials = _a.credentials;\n        return __awaiter(this, void 0, void 0, function () {\n            var endpointInfo, creds, _b, accessKeyId, secretAccessKey, sessionToken, formattedCredentials, request, signed_params;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        endpointInfo = {\n                            region: region,\n                            service: SERVICE\n                        };\n                        creds = typeof credentials === \"function\"\n                            ? credentials.call()\n                            : credentials || {};\n                        if (!(creds && typeof creds.getPromise === \"function\")) return [3 /*break*/, 2];\n                        return [4 /*yield*/, creds.getPromise()];\n                    case 1:\n                        _c.sent();\n                        _c.label = 2;\n                    case 2:\n                        if (!creds) {\n                            throw new Error(\"No credentials\");\n                        }\n                        return [4 /*yield*/, creds];\n                    case 3:\n                        _b = _c.sent(), accessKeyId = _b.accessKeyId, secretAccessKey = _b.secretAccessKey, sessionToken = _b.sessionToken;\n                        formattedCredentials = {\n                            access_key: accessKeyId,\n                            secret_key: secretAccessKey,\n                            session_token: sessionToken\n                        };\n                        request = {\n                            url: \"\" + appSyncGraphqlEndpoint + canonicalUri,\n                            body: payload,\n                            method: \"POST\",\n                            headers: __assign({}, APPSYNC_REALTIME_HEADERS)\n                        };\n                        signed_params = aws_appsync_auth_link_1.Signer.sign(request, formattedCredentials, endpointInfo);\n                        return [2 /*return*/, signed_params.headers];\n                }\n            });\n        });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._initializeRetryableHandshake = function (_a) {\n        var awsRealTimeUrl = _a.awsRealTimeUrl;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        logger(\"Initializaling retryable Handshake\");\n                        return [4 /*yield*/, retry_1.jitteredExponentialRetry(this._initializeHandshake.bind(this), [\n                                { awsRealTimeUrl: awsRealTimeUrl }\n                            ])];\n                    case 1:\n                        _b.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._initializeHandshake = function (_a) {\n        var awsRealTimeUrl = _a.awsRealTimeUrl;\n        return __awaiter(this, void 0, void 0, function () {\n            var err_3, errorType, errorCode;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        logger(\"Initializing handshake \" + awsRealTimeUrl);\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 4, , 5]);\n                        return [4 /*yield*/, (function () {\n                                return new Promise(function (res, rej) {\n                                    var newSocket = AppSyncRealTimeSubscriptionHandshakeLink.createWebSocket(awsRealTimeUrl, \"graphql-ws\");\n                                    newSocket.onerror = function () {\n                                        logger(\"WebSocket connection error\");\n                                    };\n                                    newSocket.onclose = function () {\n                                        rej(new Error(\"Connection handshake error\"));\n                                    };\n                                    newSocket.onopen = function () {\n                                        _this.awsRealTimeSocket = newSocket;\n                                        return res();\n                                    };\n                                });\n                            })()];\n                    case 2:\n                        _b.sent();\n                        // Step 2: wait for ack from AWS AppSyncReaTime after sending init\n                        return [4 /*yield*/, (function () {\n                                return new Promise(function (res, rej) {\n                                    var ackOk = false;\n                                    _this.awsRealTimeSocket.onerror = function (error) {\n                                        logger(\"WebSocket closed \" + JSON.stringify(error));\n                                    };\n                                    _this.awsRealTimeSocket.onclose = function (event) {\n                                        logger(\"WebSocket closed \" + event.reason);\n                                        rej(new Error(JSON.stringify(event)));\n                                    };\n                                    _this.awsRealTimeSocket.onmessage = function (message) {\n                                        var _a;\n                                        logger(\"subscription message from AWS AppSyncRealTime: \" + message.data + \" \");\n                                        var data = JSON.parse(message.data);\n                                        var type = data.type, _b = data.payload, _c = (_b === void 0 ? {} : _b).connectionTimeoutMs, connectionTimeoutMs = _c === void 0 ? DEFAULT_KEEP_ALIVE_TIMEOUT : _c;\n                                        if (type === types_1.MESSAGE_TYPES.GQL_CONNECTION_ACK) {\n                                            ackOk = true;\n                                            _this.keepAliveTimeout = (_a = _this.keepAliveTimeout) !== null && _a !== void 0 ? _a : connectionTimeoutMs;\n                                            _this.awsRealTimeSocket.onmessage = _this._handleIncomingSubscriptionMessage.bind(_this);\n                                            _this.awsRealTimeSocket.onerror = function (err) {\n                                                logger(err);\n                                                _this._errorDisconnect(types_1.CONTROL_MSG.CONNECTION_CLOSED);\n                                            };\n                                            _this.awsRealTimeSocket.onclose = function (event) {\n                                                logger(\"WebSocket closed \" + event.reason);\n                                                _this._errorDisconnect(types_1.CONTROL_MSG.CONNECTION_CLOSED);\n                                            };\n                                            res(\"Cool, connected to AWS AppSyncRealTime\");\n                                            return;\n                                        }\n                                        if (type === types_1.MESSAGE_TYPES.GQL_CONNECTION_ERROR) {\n                                            var _d = data.payload, _e = (_d === void 0 ? {} : _d).errors, _f = (_e === void 0 ? [] : _e)[0], _g = _f === void 0 ? {} : _f, _h = _g.errorType, errorType = _h === void 0 ? \"\" : _h, _j = _g.errorCode, errorCode = _j === void 0 ? 0 : _j;\n                                            rej({ errorType: errorType, errorCode: errorCode });\n                                        }\n                                    };\n                                    var gqlInit = {\n                                        type: types_1.MESSAGE_TYPES.GQL_CONNECTION_INIT\n                                    };\n                                    _this.awsRealTimeSocket.send(JSON.stringify(gqlInit));\n                                    function checkAckOk() {\n                                        if (!ackOk) {\n                                            rej(new Error(\"Connection timeout: ack from AWSRealTime was not received on \" + CONNECTION_INIT_TIMEOUT + \" ms\"));\n                                        }\n                                    }\n                                    setTimeout(checkAckOk.bind(_this), CONNECTION_INIT_TIMEOUT);\n                                });\n                            })()];\n                    case 3:\n                        // Step 2: wait for ack from AWS AppSyncReaTime after sending init\n                        _b.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        err_3 = _b.sent();\n                        errorType = err_3.errorType, errorCode = err_3.errorCode;\n                        if (NON_RETRYABLE_CODES.indexOf(errorCode) >= 0) {\n                            throw new retry_1.NonRetryableError(errorType);\n                        }\n                        else if (errorType) {\n                            throw new Error(errorType);\n                        }\n                        else {\n                            throw err_3;\n                        }\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._handleIncomingSubscriptionMessage = function (message) {\n        logger(\"subscription message from AWS AppSync RealTime: \" + message.data);\n        var _a = JSON.parse(message.data), _b = _a.id, id = _b === void 0 ? \"\" : _b, payload = _a.payload, type = _a.type;\n        var _c = this.subscriptionObserverMap.get(id) || {}, _d = _c.observer, observer = _d === void 0 ? null : _d, _e = _c.query, query = _e === void 0 ? \"\" : _e, _f = _c.variables, variables = _f === void 0 ? {} : _f, _g = _c.startAckTimeoutId, startAckTimeoutId = _g === void 0 ? 0 : _g, _h = _c.subscriptionReadyCallback, subscriptionReadyCallback = _h === void 0 ? null : _h, _j = _c.subscriptionFailedCallback, subscriptionFailedCallback = _j === void 0 ? null : _j;\n        logger({ id: id, observer: observer, query: query, variables: variables });\n        if (type === types_1.MESSAGE_TYPES.GQL_DATA && payload && payload.data) {\n            if (observer) {\n                observer.next(payload);\n            }\n            else {\n                logger(\"observer not found for id: \" + id);\n            }\n            return;\n        }\n        if (type === types_1.MESSAGE_TYPES.GQL_START_ACK) {\n            logger(\"subscription ready for \" + JSON.stringify({ query: query, variables: variables }));\n            if (typeof subscriptionReadyCallback === \"function\") {\n                subscriptionReadyCallback();\n            }\n            clearTimeout(startAckTimeoutId);\n            if (observer) {\n                observer.next({\n                    data: payload,\n                    extensions: {\n                        controlMsgType: \"CONNECTED\"\n                    }\n                });\n            }\n            else {\n                logger(\"observer not found for id: \" + id);\n            }\n            var subscriptionState = types_1.SUBSCRIPTION_STATUS.CONNECTED;\n            this.subscriptionObserverMap.set(id, {\n                observer: observer,\n                query: query,\n                variables: variables,\n                startAckTimeoutId: null,\n                subscriptionState: subscriptionState,\n                subscriptionReadyCallback: subscriptionReadyCallback,\n                subscriptionFailedCallback: subscriptionFailedCallback\n            });\n            return;\n        }\n        if (type === types_1.MESSAGE_TYPES.GQL_CONNECTION_KEEP_ALIVE) {\n            clearTimeout(this.keepAliveTimeoutId);\n            this.keepAliveTimeoutId = setTimeout(this._errorDisconnect.bind(this, types_1.CONTROL_MSG.TIMEOUT_DISCONNECT), this.keepAliveTimeout);\n            return;\n        }\n        if (type === types_1.MESSAGE_TYPES.GQL_ERROR) {\n            var subscriptionState = types_1.SUBSCRIPTION_STATUS.FAILED;\n            this.subscriptionObserverMap.set(id, {\n                observer: observer,\n                query: query,\n                variables: variables,\n                startAckTimeoutId: startAckTimeoutId,\n                subscriptionReadyCallback: subscriptionReadyCallback,\n                subscriptionFailedCallback: subscriptionFailedCallback,\n                subscriptionState: subscriptionState\n            });\n            observer.error({\n                errors: [\n                    __assign({}, new graphql_1.GraphQLError(\"Connection failed: \" + JSON.stringify(payload)))\n                ]\n            });\n            clearTimeout(startAckTimeoutId);\n            observer.complete();\n            if (typeof subscriptionFailedCallback === \"function\") {\n                subscriptionFailedCallback();\n            }\n        }\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._errorDisconnect = function (msg) {\n        logger(\"Disconnect error: \" + msg);\n        this.subscriptionObserverMap.forEach(function (_a) {\n            var observer = _a.observer;\n            if (observer && !observer.closed) {\n                observer.error({\n                    errors: [__assign({}, new graphql_1.GraphQLError(msg))],\n                });\n            }\n        });\n        this.subscriptionObserverMap.clear();\n        if (this.awsRealTimeSocket) {\n            this.awsRealTimeSocket.close();\n        }\n        this.socketStatus = types_1.SOCKET_STATUS.CLOSED;\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.prototype._timeoutStartSubscriptionAck = function (subscriptionId) {\n        var _a = this.subscriptionObserverMap.get(subscriptionId) || {}, observer = _a.observer, query = _a.query, variables = _a.variables;\n        if (!observer) {\n            return;\n        }\n        this.subscriptionObserverMap.set(subscriptionId, {\n            observer: observer,\n            query: query,\n            variables: variables,\n            subscriptionState: types_1.SUBSCRIPTION_STATUS.FAILED\n        });\n        if (observer && !observer.closed) {\n            observer.error({\n                errors: [\n                    __assign({}, new graphql_1.GraphQLError(\"Subscription timeout \" + JSON.stringify({ query: query, variables: variables })))\n                ]\n            });\n            // Cleanup will be automatically executed\n            observer.complete();\n        }\n        logger(\"timeoutStartSubscription\", JSON.stringify({ query: query, variables: variables }));\n    };\n    AppSyncRealTimeSubscriptionHandshakeLink.createWebSocket = function (awsRealTimeUrl, protocol) {\n        return new WebSocket(awsRealTimeUrl, protocol);\n    };\n    return AppSyncRealTimeSubscriptionHandshakeLink;\n}(core_1.ApolloLink));\nexports.AppSyncRealTimeSubscriptionHandshakeLink = AppSyncRealTimeSubscriptionHandshakeLink;\n", "\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar subscription_handshake_link_1 = require(\"./subscription-handshake-link\");\nexports.CONTROL_EVENTS_KEY = subscription_handshake_link_1.CONTROL_EVENTS_KEY;\nvar core_1 = require(\"@apollo/client/core\");\nvar http_1 = require(\"@apollo/client/link/http\");\nvar utilities_1 = require(\"@apollo/client/utilities\");\nvar non_terminating_link_1 = require(\"./non-terminating-link\");\nvar realtime_subscription_handshake_link_1 = require(\"./realtime-subscription-handshake-link\");\nfunction createSubscriptionHandshakeLink(infoOrUrl, theResultsFetcherLink) {\n    var resultsFetcherLink, subscriptionLinks;\n    if (typeof infoOrUrl === \"string\") {\n        resultsFetcherLink =\n            theResultsFetcherLink || http_1.createHttpLink({ uri: infoOrUrl });\n        subscriptionLinks = core_1.ApolloLink.from([\n            new non_terminating_link_1.NonTerminatingLink(\"controlMessages\", {\n                link: new core_1.ApolloLink(function (operation, _forward) {\n                    return new core_1.Observable(function (observer) {\n                        var _a;\n                        var _b = operation, _c = _b.variables, _d = subscription_handshake_link_1.CONTROL_EVENTS_KEY, controlEvents = _c[_d], variables = __rest(_c, [typeof _d === \"symbol\" ? _d : _d + \"\"]);\n                        if (typeof controlEvents !== \"undefined\") {\n                            operation.variables = variables;\n                        }\n                        observer.next((_a = {}, _a[subscription_handshake_link_1.CONTROL_EVENTS_KEY] = controlEvents, _a));\n                        return function () { };\n                    });\n                })\n            }),\n            new non_terminating_link_1.NonTerminatingLink(\"subsInfo\", { link: resultsFetcherLink }),\n            new subscription_handshake_link_1.SubscriptionHandshakeLink(\"subsInfo\")\n        ]);\n    }\n    else {\n        var url = infoOrUrl.url;\n        resultsFetcherLink = theResultsFetcherLink || http_1.createHttpLink({ uri: url });\n        subscriptionLinks = new realtime_subscription_handshake_link_1.AppSyncRealTimeSubscriptionHandshakeLink(infoOrUrl);\n    }\n    return core_1.ApolloLink.split(function (operation) {\n        var query = operation.query;\n        var _a = utilities_1.getMainDefinition(query), kind = _a.kind, graphqlOperation = _a.operation;\n        var isSubscription = kind === \"OperationDefinition\" && graphqlOperation === \"subscription\";\n        return isSubscription;\n    }, subscriptionLinks, resultsFetcherLink);\n}\nexports.createSubscriptionHandshakeLink = createSubscriptionHandshakeLink;\n"],
  "mappings": "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",
  "names": ["parse", "self", "useColors", "global", "version", "validate", "f", "scope", "action", "client", "args", "i", "host", "port", "d", "b", "f", "__rest", "SubscriptionHandshakeLink", "_a", "_b", "observer", "d", "b", "f", "NonTerminatingLink", "_this", "version", "SUBSCRIPTION_STATUS", "SOCKET_STATUS", "MESSAGE_TYPES", "CONTROL_MSG", "d", "b", "f", "NonRetryableError", "d", "b", "f", "AppSyncRealTimeSubscriptionHandshakeLink", "url", "_a", "_b", "subscriptionState", "res", "rej", "errorType", "errorCode", "require_lib", "__rest"]
}
